(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/4Ug":function(e,t,n){var i,o;i=n("d2RQ"),o=n("KkUS"),e.exports=function(){"use strict";var e;function t(e){return function(){return e}}function n(e){this.config=e=e||{},this.config.childrenPropertyName=e.childrenPropertyName||"children",this.config.modelComparatorFn=e.modelComparatorFn}function r(e,t){return t.parent=e,e.children.push(t),t}function l(e,t){this.config=e,this.model=t,this.children=[]}function s(e){return"function"==typeof e.config.modelComparatorFn}function a(e,t,n){var i;if(!(t instanceof l))throw new TypeError("Child must be of type Node.");if(t.parent=e,e.model[e.config.childrenPropertyName]instanceof Array||(e.model[e.config.childrenPropertyName]=[]),s(e))i=o(e.config.modelComparatorFn,e.model[e.config.childrenPropertyName],t.model),e.model[e.config.childrenPropertyName].splice(i,0,t.model),e.children.splice(i,0,t);else if(void 0===n)e.model[e.config.childrenPropertyName].push(t.model),e.children.push(t);else{if(n<0||n>e.children.length)throw new Error("Invalid index.");e.model[e.config.childrenPropertyName].splice(n,0,t.model),e.children.splice(n,0,t)}return t}function c(){var t={};if(1===arguments.length?"function"==typeof arguments[0]?t.fn=arguments[0]:t.options=arguments[0]:2===arguments.length?"function"==typeof arguments[0]?(t.fn=arguments[0],t.ctx=arguments[1]):(t.options=arguments[0],t.fn=arguments[1]):(t.options=arguments[0],t.fn=arguments[1],t.ctx=arguments[2]),t.options=t.options||{},t.options.strategy||(t.options.strategy="pre"),!e[t.options.strategy])throw new Error("Unknown tree walk strategy. Valid strategies are 'pre' [default], 'post' and 'breadth'.");return t}return e={},n.prototype.parse=function(e){var t,n,o;if(!(e instanceof Object))throw new TypeError("Model must be of type object.");if(o=new l(this.config,e),e[this.config.childrenPropertyName]instanceof Array)for(this.config.modelComparatorFn&&(e[this.config.childrenPropertyName]=i(this.config.modelComparatorFn,e[this.config.childrenPropertyName])),t=0,n=e[this.config.childrenPropertyName].length;t<n;t++)r(o,this.parse(e[this.config.childrenPropertyName][t]));return o},l.prototype.isRoot=function(){return void 0===this.parent},l.prototype.hasChildren=function(){return this.children.length>0},l.prototype.addChild=function(e){return a(this,e)},l.prototype.addChildAtIndex=function(e,t){if(s(this))throw new Error("Cannot add child at index when using a comparator function.");return a(this,e,t)},l.prototype.setIndex=function(e){if(s(this))throw new Error("Cannot set node index when using a comparator function.");if(this.isRoot()){if(0===e)return this;throw new Error("Invalid index.")}if(e<0||e>=this.parent.children.length)throw new Error("Invalid index.");var t=this.parent.children.indexOf(this);return this.parent.children.splice(e,0,this.parent.children.splice(t,1)[0]),this.parent.model[this.parent.config.childrenPropertyName].splice(e,0,this.parent.model[this.parent.config.childrenPropertyName].splice(t,1)[0]),this},l.prototype.getPath=function(){var e=[];return function t(n){e.unshift(n),n.isRoot()||t(n.parent)}(this),e},l.prototype.getIndex=function(){return this.isRoot()?0:this.parent.children.indexOf(this)},l.prototype.walk=function(){var t;t=c.apply(this,arguments),e[t.options.strategy].call(this,t.fn,t.ctx)},e.pre=function e(t,n){var i,o,r;for(r=t.call(n,this),i=0,o=this.children.length;i<o;i++){if(!1===r)return!1;r=e.call(this.children[i],t,n)}return r},e.post=function e(t,n){var i,o;for(i=0,o=this.children.length;i<o;i++)if(!1===e.call(this.children[i],t,n))return!1;return t.call(n,this)},e.breadth=function(e,t){var n=[this];!function i(){var o,r,l;if(0!==n.length){for(o=0,r=(l=n.shift()).children.length;o<r;o++)n.push(l.children[o]);!1!==e.call(t,l)&&i()}}()},l.prototype.all=function(){var n,i=[];return(n=c.apply(this,arguments)).fn=n.fn||t(!0),e[n.options.strategy].call(this,function(e){n.fn.call(n.ctx,e)&&i.push(e)},n.ctx),i},l.prototype.first=function(){var n,i;return(n=c.apply(this,arguments)).fn=n.fn||t(!0),e[n.options.strategy].call(this,function(e){if(n.fn.call(n.ctx,e))return i=e,!1},n.ctx),i},l.prototype.drop=function(){var e;return this.isRoot()||(e=this.parent.children.indexOf(this),this.parent.children.splice(e,1),this.parent.model[this.config.childrenPropertyName].splice(e,1),this.parent=void 0,delete this.parent),this},n}()},"8RM6":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){return function(){}}()},B976:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n("LoAr"),o=n("r6MD"),r=n("48GI"),l=n("W6XZ"),s=n("IlL2"),a=n("a4sr"),c=(n("QzX3"),n("fQLH")),d=n("mhnT"),u=n("/4Ug"),h=n("AytR"),f=(n("mB4F"),function(){function e(e,t,n,o,r){this.orgDetailsService=e,this.userService=t,this.router=n,this.connectionService=o,this.resourceService=r,this.contentSelect=new i.EventEmitter,this.iconColor={0:"fancy-tree-black",1:"fancy-tree-blue",2:"fancy-tree-green"},this.unsubscribe$=new c.a,this.isOffline=h.a.isOffline,this.isConnected=navigator.onLine,this.status=this.isConnected?"ONLINE":"OFFLINE",this.resourceService=r,this.orgDetailsService=e}return e.prototype.ngOnInit=function(){var e,t=this;this.connectionService.monitor().pipe(Object(d.a)(this.unsubscribe$)).subscribe(function(e){t.isConnected=e,t.status=e?"ONLINE":"OFFLINE",t.initialize()});var n=o.a(this.nodes,"data.channel");e||(e=this.userService.loggedIn?this.userService.rootOrgId:this.orgDetailsService.getRootOrgId),this.orgDetailsService.getCommingSoonMessage([n,e]).pipe(Object(d.a)(this.unsubscribe$)).subscribe(function(e){t.contentComingSoonDetails=e}),this.languageSubscription=this.resourceService.languageSelected$.pipe(Object(d.a)(this.unsubscribe$)).subscribe(function(e){t.selectLanguage=e.value,t.initialize()})},e.prototype.ngOnChanges=function(){this.contentComingSoonDetails&&this.initialize(),this.languageSubscription&&this.languageSubscription.unsubscribe()},e.prototype.onNodeClick=function(e){e.folder||this.contentSelect.emit({id:e.id,title:e.title})},e.prototype.onItemSelect=function(e){e.folder||this.contentSelect.emit({id:e.data.id,title:e.title})},e.prototype.initialize=function(){this.rootNode=this.createTreeModel(),this.rootNode&&(this.rootChildrens=this.rootNode.children,this.addNodeMeta())},e.prototype.createTreeModel=function(){if(this.nodes)return(new u).parse(this.nodes.data)},e.prototype.addNodeMeta=function(){var e=this;this.rootNode&&this.rootNode.walk(function(t){if(t.fileType=a.a[t.model.mimeType],t.id=t.model.identifier,t.children&&t.children.length)e.options.folderIcon&&(t.icon=e.options.folderIcon),t.folder=!0;else{if(t.fileType===a.a["application/vnd.ekstep.content-collection"])t.folder=!0;else{if(r.a(e.contentStatus,{}),e.contentStatus){var n=l.a(e.contentStatus,{contentId:t.model.identifier}),i=n&&n.status?n.status.toString():0;t.iconColor=e.iconColor[i]}else t.iconColor=e.iconColor[0];t.folder=!1}t.icon=e.options.customFileIcon[t.fileType]||e.options.fileIcon,t.icon=t.icon+" "+t.iconColor}t.folder&&!t.children.length?(e.setCommingSoonMessage(t),t.title=t.model.name+"<span> ("+e.commingSoonMessage+")</span>",t.extraClasses="disabled"):e.isOffline&&"youtube"===t.fileType&&"OFFLINE"===e.status?(t.title=t.model.name+" <div class='sb-label sb-label-table sb-label-warning-0'>\n          "+e.resourceService.frmelmnts.lbl.onlineOnly+"</div>"||!1,t.extraClasses="disabled"):(t.title=t.model.name||"Untitled File",t.extraClasses="")})},e.prototype.setCommingSoonMessage=function(e){this.commingSoonMessage="";var t=e.getPath(),n=[];t.forEach(function(e,t){s.a(e,"model.altMsg")&&e.model.altMsg.length&&n.push(e.model.altMsg[0])}),n.length>0?this.commingSoonMessage=this.getMessageFormTranslations(n[n.length-1]):this.contentComingSoonDetails&&(this.commingSoonMessage=this.getMessageFormTranslations(this.contentComingSoonDetails)),this.commingSoonMessage||(this.commingSoonMessage=this.resourceService.messages.stmsg.m0121)},e.prototype.getMessageFormTranslations=function(e){try{var t=JSON.parse(e.translations);return t[this.selectLanguage]?t[this.selectLanguage]:t.en||e.value}catch(n){return e.value}},e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},e}())},FIcl:function(e,t,n){"use strict";var i=n("LoAr"),o=n("hY+Z"),r=n("WT9V"),l=n("kFFs"),s=n("nJQC"),a=n("82lB"),c=n("MnH2"),d=n("Wl2R");n("SirL"),n("RyZl"),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return g});var u=i["\u0275crt"]({encapsulation:0,styles:[[".ui.popup[_ngcontent-%COMP%]::after{background:#007aff!important}.gray-shade[_ngcontent-%COMP%]{margin:10px -16px 0;background:#f2f2f2;padding-left:16px;font:caption;font-size:15px;font-weight:700;padding-top:5px;padding-bottom:7px}"]],data:{}});function h(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,[",\xa0",""]))],null,function(e,t){e(t,1,0,t.component.contentData.copyrightYear)})}function f(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","item mt-10"]],null,null,null,null,null)),i["\u0275did"](1,16384,null,1,o.b,[i.Renderer2,i.ElementRef],null,null),i["\u0275qud"](335544320,1,{childDropdownMenu:0}),(e()(),i["\u0275eld"](3,0,null,null,2,"div",[["class","header text-gray"]],null,null,null,null,null)),(e()(),i["\u0275ted"](4,null,["",""])),i["\u0275ppd"](5,1),(e()(),i["\u0275eld"](6,0,null,null,3,"div",[["class","mt-5"]],null,null,null,null,null)),(e()(),i["\u0275ted"](7,null,[""," "])),(e()(),i["\u0275and"](16777216,null,null,1,null,h)),i["\u0275did"](9,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,9,0,t.component.contentData.copyrightYear)},function(e,t){var n=t.component,o=i["\u0275unv"](t,4,0,e(t,5,0,i["\u0275nov"](t.parent,0),n.resourceService.frmelmnts.lbl.copyRight));e(t,4,0,o),e(t,7,0,n.contentData.copyright)})}function p(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,37,"div",[["class","item"]],null,null,null,null,null)),i["\u0275did"](1,16384,null,1,o.b,[i.Renderer2,i.ElementRef],null,null),i["\u0275qud"](335544320,3,{childDropdownMenu:0}),(e()(),i["\u0275eld"](3,0,null,null,1,"div",[["class","gray-shade mt-10"]],null,null,null,null,null)),(e()(),i["\u0275ted"](4,null,[" "," "])),(e()(),i["\u0275eld"](5,0,null,null,7,"div",[["class","item mt-10"]],null,null,null,null,null)),i["\u0275did"](6,16384,null,1,o.b,[i.Renderer2,i.ElementRef],null,null),i["\u0275qud"](335544320,4,{childDropdownMenu:0}),(e()(),i["\u0275eld"](8,0,null,null,2,"div",[["class","header text-gray"]],null,null,null,null,null)),(e()(),i["\u0275ted"](9,null,["",""])),i["\u0275ppd"](10,1),(e()(),i["\u0275eld"](11,0,null,null,1,"div",[["class","mt-5"]],null,null,null,null,null)),(e()(),i["\u0275ted"](12,null,["",""])),(e()(),i["\u0275eld"](13,0,null,null,7,"div",[["class","item mt-10"]],null,null,null,null,null)),i["\u0275did"](14,16384,null,1,o.b,[i.Renderer2,i.ElementRef],null,null),i["\u0275qud"](335544320,5,{childDropdownMenu:0}),(e()(),i["\u0275eld"](16,0,null,null,2,"div",[["class","header text-gray"]],null,null,null,null,null)),(e()(),i["\u0275ted"](17,null,["",""])),i["\u0275ppd"](18,1),(e()(),i["\u0275eld"](19,0,null,null,1,"div",[["class","mt-5"]],null,null,null,null,null)),(e()(),i["\u0275ted"](20,null,["",""])),(e()(),i["\u0275eld"](21,0,null,null,7,"div",[["class","item mt-10"]],null,null,null,null,null)),i["\u0275did"](22,16384,null,1,o.b,[i.Renderer2,i.ElementRef],null,null),i["\u0275qud"](335544320,6,{childDropdownMenu:0}),(e()(),i["\u0275eld"](24,0,null,null,2,"div",[["class","header text-gray"]],null,null,null,null,null)),(e()(),i["\u0275ted"](25,null,["",""])),i["\u0275ppd"](26,1),(e()(),i["\u0275eld"](27,0,null,null,1,"div",[["class","mt-5"]],null,null,null,null,null)),(e()(),i["\u0275ted"](28,null,["",""])),(e()(),i["\u0275eld"](29,0,null,null,8,"div",[["class","item mt-10"]],null,null,null,null,null)),i["\u0275did"](30,16384,null,1,o.b,[i.Renderer2,i.ElementRef],null,null),i["\u0275qud"](335544320,7,{childDropdownMenu:0}),(e()(),i["\u0275eld"](32,0,null,null,3,"div",[["class","header text-gray"]],null,null,null,null,null)),(e()(),i["\u0275ted"](33,null,[" ",""])),i["\u0275ppd"](34,3),i["\u0275ppd"](35,1),(e()(),i["\u0275eld"](36,0,null,null,1,"div",[["class","mt-5"]],null,null,null,null,null)),(e()(),i["\u0275ted"](37,null,["",""]))],null,function(e,t){var n=t.component;e(t,4,0,null==n.resourceService.frmelmnts.lbl?null:n.resourceService.frmelmnts.lbl.contentcopiedtitle);var o=i["\u0275unv"](t,9,0,e(t,10,0,i["\u0275nov"](t.parent,0),null==n.resourceService.frmelmnts.lbl?null:n.resourceService.frmelmnts.lbl.contenttype));e(t,9,0,o),e(t,12,0,n.contentData.originData.name);var r=i["\u0275unv"](t,17,0,e(t,18,0,i["\u0275nov"](t.parent,0),null==n.resourceService.frmelmnts.lbl?null:n.resourceService.frmelmnts.lbl.authorofsourcecontent));e(t,17,0,r),e(t,20,0,n.contentData.originData.author);var l=i["\u0275unv"](t,25,0,e(t,26,0,i["\u0275nov"](t.parent,0),null==n.resourceService.frmelmnts.lbl?null:n.resourceService.frmelmnts.lbl.licenseTerms));e(t,25,0,l),e(t,28,0,n.contentData.originData.license);var s=i["\u0275unv"](t,33,0,e(t,35,0,i["\u0275nov"](t.parent,0),i["\u0275unv"](t,33,0,e(t,34,0,i["\u0275nov"](t.parent,1),null==n.resourceService.frmelmnts.lbl?null:n.resourceService.frmelmnts.lbl.publishedOnInstanceName,"{instance}",n.instance))));e(t,33,0,s),e(t,37,0,n.contentData.originData.organisation[0])})}function g(e){return i["\u0275vid"](0,[i["\u0275pid"](0,r.UpperCasePipe,[]),i["\u0275pid"](0,l.a,[]),(e()(),i["\u0275eld"](2,0,null,null,19,"sui-modal",[["appBodyScroll",""],["class","sb-modal"]],null,[[null,"dismissed"],["document","keyup"],["window","resize"]],function(e,t,n){var o=!0,r=e.component;return"document:keyup"===t&&(o=!1!==i["\u0275nov"](e,3).onDocumentKeyUp(n)&&o),"window:resize"===t&&(o=!1!==i["\u0275nov"](e,3).onDocumentResize()&&o),"dismissed"===t&&(o=!1!==r.closeModal(i["\u0275nov"](e,3))&&o),o},s.c,s.a)),i["\u0275did"](3,4308992,[["contentCreditsModal",4]],0,a.a,[i.Renderer2,i.ElementRef,c.a],{isClosable:[0,"isClosable"],size:[1,"size"],mustScroll:[2,"mustScroll"],transitionDuration:[3,"transitionDuration"]},{onDismiss:"dismissed"}),i["\u0275did"](4,4341760,null,0,d.a,[],null,null),(e()(),i["\u0275eld"](5,0,null,0,2,"div",[["class","sb-modal-header"]],null,null,null,null,null)),(e()(),i["\u0275ted"](6,null,[" "," "])),i["\u0275ppd"](7,1),(e()(),i["\u0275eld"](8,0,null,0,13,"div",[["class","sb-modal-content"]],null,null,null,null,null)),(e()(),i["\u0275eld"](9,0,null,null,12,"div",[["class","ui list"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,f)),i["\u0275did"](11,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](12,0,null,null,7,"div",[["class","item mt-10"]],null,null,null,null,null)),i["\u0275did"](13,16384,null,1,o.b,[i.Renderer2,i.ElementRef],null,null),i["\u0275qud"](335544320,2,{childDropdownMenu:0}),(e()(),i["\u0275eld"](15,0,null,null,2,"div",[["class","header text-gray"]],null,null,null,null,null)),(e()(),i["\u0275ted"](16,null,["",""])),i["\u0275ppd"](17,1),(e()(),i["\u0275eld"](18,0,null,null,1,"div",[["class","mt-5"]],null,null,null,null,null)),(e()(),i["\u0275ted"](19,null,["",""])),(e()(),i["\u0275and"](16777216,null,null,1,null,p)),i["\u0275did"](21,16384,null,0,r.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,!0,"small",!0,0),e(t,11,0,n.contentData.copyright),e(t,21,0,n.contentData&&n.contentData.originData&&"Course"===n.contentData.contentType)},function(e,t){var n=t.component,o=i["\u0275unv"](t,6,0,e(t,7,0,i["\u0275nov"](t,0),null==n.resourceService?null:null==n.resourceService.frmelmnts?null:null==n.resourceService.frmelmnts.lbl?null:n.resourceService.frmelmnts.lbl.credits));e(t,6,0,o);var r=i["\u0275unv"](t,16,0,e(t,17,0,i["\u0275nov"](t,0),null==n.resourceService?null:null==n.resourceService.frmelmnts?null:null==n.resourceService.frmelmnts.lbl?null:n.resourceService.frmelmnts.lbl.attributions));e(t,16,0,r),e(t,19,0,n.contentCreditsData.attributions)})}},Ie3Q:function(e,t,n){"use strict";var i=n("LoAr"),o=n("WT9V"),r=n("8K93"),l=n("VaWR"),s=n("981U"),a=(n("itKf"),n("r6MD")),c=(n("H405"),function(){return(c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),d=function(){function e(e){this.activatedRoute=e,this.itemSelect=new i.EventEmitter}return e.prototype.ngAfterViewInit=function(){var e=this,t={extensions:["glyph"],clickFolderMode:3,source:this.nodes,glyph:{preset:"awesome4",map:{folder:"icon folder sb-fancyTree-icon",folderOpen:"icon folder outline sb-fancyTree-icon"}},click:function(t,n){return e.telemetryInteractDirective.telemetryInteractObject=e.getTelemetryInteractObject(a.a(n,"node.data")),e.telemetryInteractDirective.telemetryInteractEdata=e.getTelemetryInteractEdata(),e.telemetryInteractDirective.telemetryInteractCdata=a.a(e.activatedRoute,"snapshot.queryParams.dialCode")?[{id:a.a(e.activatedRoute,"snapshot.queryParams.dialCode"),type:"dialCode"}]:[],e.tree.nativeElement.click(),e.itemSelect.emit(n.node),!0}};t=c({},t,this.options),$(this.tree.nativeElement).fancytree(t),this.options.showConnectors&&$(".fancytree-container").addClass("fancytree-connectors")},e.prototype.getTelemetryInteractObject=function(e){return{id:a.a(e,"id"),type:a.a(e,"model.contentType")||"Content",ver:a.a(e,"model.pkgVersion")||"1.0",rollup:{l1:a.a(this.rootNode,"id")}}},e.prototype.getTelemetryInteractEdata=function(){return{id:"course-toc",type:"click",pageid:"course-read"}},e}(),u=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{tree:0}),i["\u0275qud"](402653184,2,{telemetryInteractDirective:0}),(e()(),i["\u0275eld"](2,0,[[1,0],["fancyTree",1]],null,1,"div",[["appTelemetryInteract",""]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i["\u0275nov"](e,3).onClick(n)&&o),o},null,null)),i["\u0275did"](3,16384,[[2,4]],0,r.a,[l.a,s.a,s.m],null,null)],null,null)}var f=n("S3Sz"),p=n("MOHn"),g=n("iiAf"),v=n("tX6Y");n("B976"),n("xlQ4"),n("ZrRP"),n("VlHt"),n("RyZl"),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return N});var m=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function y(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"i",[["class","mr-16 sb-collectionTree-title-icon icon folder"]],[[2,"outline",null]],null,null,null,null))],null,function(e,t){e(t,0,0,t.parent.context.$implicit.togglePanelIcon)})}function b(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"i",[["class","mr-16 sb-collectionTree-title-icon"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(e,t){e(t,1,0,"mr-16 sb-collectionTree-title-icon",t.parent.context.$implicit.icon)},null)}function x(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"i",[["class","icon ml-auto mr-0 sb-collectionTree-title-toggle-icon"]],[[2,"plus",null],[2,"minus",null]],null,null,null,null))],null,function(e,t){e(t,0,0,!t.parent.context.$implicit.togglePanelIcon,t.parent.context.$implicit.togglePanelIcon)})}function w(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","p-0 sb-collectionTree-contentCover"],["content",""]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,2,"app-fancy-tree",[["class","sb-collectionTree-fancyTree"]],null,[[null,"itemSelect"]],function(e,t,n){var i=!0;return"itemSelect"===t&&(i=!1!==e.component.onItemSelect(n)&&i),i},h,u)),i["\u0275did"](2,4243456,null,0,d,[s.a],{nodes:[0,"nodes"],options:[1,"options"],rootNode:[2,"rootNode"]},{itemSelect:"itemSelect"}),i["\u0275pod"](3,{showConnectors:0})],function(e,t){var n=t.component,i=t.parent.context.$implicit.children,o=e(t,3,0,!0);e(t,2,0,i,o,n.rootNode)},null)}function C(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,16,"sui-accordion",[["class","sb-collectionTree"]],[[2,"ui",null],[2,"accordion",null]],null,null,f.b,f.a)),i["\u0275did"](1,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275did"](2,1097728,null,1,p.a,[],null,null),i["\u0275qud"](603979776,1,{_panels:1}),(e()(),i["\u0275eld"](4,0,null,0,12,"sui-accordion-panel",[],null,[[null,"click"],[null,"isOpenChange"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==(!e.context.$implicit.folder&&e.component.onNodeClick(e.context.$implicit))&&i),"isOpenChange"===t&&(i=!1!==(e.context.$implicit.togglePanelIcon=n)&&i),i},g.b,g.a)),i["\u0275did"](5,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275did"](6,49152,[[1,4]],0,v.a,[i.ChangeDetectorRef],{isDisabled:[0,"isDisabled"],isOpen:[1,"isOpen"]},{isOpenChange:"isOpenChange"}),(e()(),i["\u0275eld"](7,0,null,0,7,"div",[["class","sb-collectionTree-titleCover"],["title",""]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,y)),i["\u0275did"](9,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,b)),i["\u0275did"](11,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](12,0,null,null,0,"h3",[["class","sb-collectionTree-title"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,x)),i["\u0275did"](14,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,1,1,null,w)),i["\u0275did"](16,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,1,0,"sb-collectionTree",t.context.$implicit.extraClasses),e(t,5,0,t.context.$implicit.extraClasses),e(t,6,0,!t.context.$implicit.children.length||!t.context.$implicit.folder,t.context.$implicit.togglePanelIcon),e(t,9,0,t.context.$implicit.folder),e(t,11,0,!t.context.$implicit.folder),e(t,14,0,t.context.$implicit.folder&&t.context.$implicit.children.length),e(t,16,0,t.context.$implicit.folder)},function(e,t){e(t,0,0,i["\u0275nov"](t,2).accordionClasses,i["\u0275nov"](t,2).accordionClasses),e(t,12,0,t.context.$implicit.title)})}function N(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,C)),i["\u0275did"](1,278528,null,0,o.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,1,0,t.component.rootChildrens)},null)}},KkUS:function(e,t){e.exports=function(){"use strict";return function(e,t,n){var i,o;for(i=0,o=t.length;i<o&&!(e(t[i],n)>0);i++);return i}}()},Q7Ky:function(e,t,n){var i,o,r;o=[n("GtyH")],void 0===(r="function"==typeof(i=function(e){e.ui=e.ui||{},e.ui.version="1.12.1";var t,n,i=0,o=Array.prototype.slice;e.cleanData=e.cleanData||(t=e.cleanData,function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{(i=e._data(o,"events"))&&i.remove&&e(o).triggerHandler("remove")}catch(l){}t(n)}),e.widget=e.widget||function(t,n,i){var o,r,l,s={},a=t.split(".")[0],c=a+"-"+(t=t.split(".")[1]);return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[a]=e[a]||{},o=e[a][t],r=e[a][t]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},e.extend(r,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(l=new n).options=e.widget.extend({},l.options),e.each(i,function(t,i){s[t]=e.isFunction(i)?function(){function e(){return n.prototype[t].apply(this,arguments)}function o(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,r=this._superApply;return this._super=e,this._superApply=o,t=i.apply(this,arguments),this._super=n,this._superApply=r,t}}():i}),r.prototype=e.widget.extend(l,{widgetEventPrefix:o&&l.widgetEventPrefix||t},s,{constructor:r,namespace:a,widgetName:t,widgetFullName:c}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete o._childConstructors):n._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var n,i,r=o.call(arguments,1),l=0,s=r.length;l<s;l++)for(n in r[l])i=r[l][n],r[l].hasOwnProperty(n)&&void 0!==i&&(t[n]=e.isPlainObject(i)?e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(r){var l="string"==typeof r,s=o.call(arguments,1),a=this;return l?this.length||"instance"!==r?this.each(function(){var n,o=e.data(this,i);return"instance"===r?(a=o,!1):o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s))!==o&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):a=void 0:(s.length&&(r=e.widget.extend.apply(null,[r].concat(s))),this.each(function(){var t=e.data(this,i);t?(t.option(r||{}),t._init&&t._init()):e.data(this,i,new n(r,this))})),a}},e.Widget=e.Widget||function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,o,r,l=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(l={},i=t.split("."),t=i.shift(),i.length){for(o=l[t]=e.widget.extend({},this.options[t]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(t=i.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];l[t]=n}return this._setOptions(l),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,o;for(n in t)o=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&o&&o.length&&(i=e(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var n=[],i=this;function o(o,r){var l,s;for(s=0;s<o.length;s++)l=i.classesElementLookup[o[s]]||e(),l=e(t.add?e.unique(l.get().concat(t.element.get())):l.not(t.element).get()),i.classesElementLookup[o[s]]=l,n.push(o[s]),r&&t.classes[o[s]]&&n.push(t.classes[o[s]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&o(t.keys.match(/\S+/g)||[],!0),t.extra&&o(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,o){-1!==e.inArray(t.target,o)&&(n.classesElementLookup[i]=e(o.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){var o="string"==typeof e||null===e,r={extra:o?t:n,keys:o?e:t,element:o?this.element:e,add:i="boolean"==typeof i?i:n};return r.element.toggleClass(this._classes(r),i),this},_on:function(t,n,i){var o,r=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=o=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),e.each(i,function(i,l){function s(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof l?r[l]:l).apply(r,arguments)}"string"!=typeof l&&(s.guid=l.guid=l.guid||s.guid||e.guid++);var a=i.match(/^([\w:-]*)\s*(.*)$/),c=a[1]+r.eventNamespace,d=a[2];d?o.on(c,d,s):n.on(c,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var o,r,l=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(e.isFunction(l)&&!1===l.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,o,r){var l;"string"==typeof o&&(o={effect:o});var s=o?!0===o||"number"==typeof o?n:o.effect||n:t;"number"==typeof(o=o||{})&&(o={duration:o}),l=!e.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),l&&e.effects&&e.effects.effect[s]?i[t](o):s!==t&&i[s]?i[s](o.duration,o.easing,r):i.queue(function(n){e(this)[t](),r&&r.call(i[0]),n()})}}),function(){var t,n=Math.max,i=Math.abs,o=/left|center|right/,r=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,a=/%$/,c=e.fn.position;function d(e,t,n){return[parseFloat(e[0])*(a.test(e[0])?t/100:1),parseFloat(e[1])*(a.test(e[1])?n/100:1)]}function u(t,n){return parseInt(e.css(t,n),10)||0}e.position=e.position||{scrollbarWidth:function(){if(void 0!==t)return t;var n,i,o=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=o.children()[0];return e("body").append(o),n=r.offsetWidth,o.css("overflow","scroll"),n===(i=r.offsetWidth)&&(i=o[0].clientWidth),o.remove(),t=n-i},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:i||o?{left:0,top:0}:e(t).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var a,h,f,p,g,v,m,y,b=e(t.of),x=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(x),C=(t.collision||"flip").split(" "),N={};return v=9===(y=(m=b)[0]).nodeType?{width:m.width(),height:m.height(),offset:{top:0,left:0}}:e.isWindow(y)?{width:m.width(),height:m.height(),offset:{top:m.scrollTop(),left:m.scrollLeft()}}:y.preventDefault?{width:0,height:0,offset:{top:y.pageY,left:y.pageX}}:{width:m.outerWidth(),height:m.outerHeight(),offset:m.offset()},b[0].preventDefault&&(t.at="left top"),h=v.width,f=v.height,g=e.extend({},p=v.offset),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=o.test(i[0])?i.concat(["center"]):r.test(i[0])?["center"].concat(i):["center","center"]),i[0]=o.test(i[0])?i[0]:"center",i[1]=r.test(i[1])?i[1]:"center",e=l.exec(i[0]),n=l.exec(i[1]),N[this]=[e?e[0]:0,n?n[0]:0],t[this]=[s.exec(i[0])[0],s.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===t.at[0]?g.left+=h:"center"===t.at[0]&&(g.left+=h/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),a=d(N.at,h,f),g.left+=a[0],g.top+=a[1],this.each(function(){var o,r,l=e(this),s=l.outerWidth(),c=l.outerHeight(),v=u(this,"marginLeft"),m=u(this,"marginTop"),y=s+v+u(this,"marginRight")+w.width,k=c+m+u(this,"marginBottom")+w.height,_=e.extend({},g),S=d(N.my,l.outerWidth(),l.outerHeight());"right"===t.my[0]?_.left-=s:"center"===t.my[0]&&(_.left-=s/2),"bottom"===t.my[1]?_.top-=c:"center"===t.my[1]&&(_.top-=c/2),_.left+=S[0],_.top+=S[1],o={marginLeft:v,marginTop:m},e.each(["left","top"],function(n,i){e.ui.position[C[n]]&&e.ui.position[C[n]][i](_,{targetWidth:h,targetHeight:f,elemWidth:s,elemHeight:c,collisionPosition:o,collisionWidth:y,collisionHeight:k,offset:[a[0]+S[0],a[1]+S[1]],my:t.my,at:t.at,within:x,elem:l})}),t.using&&(r=function(e){var o=p.left-_.left,r=o+h-s,a=p.top-_.top,d=a+f-c,u={target:{element:b,left:p.left,top:p.top,width:h,height:f},element:{element:l,left:_.left,top:_.top,width:s,height:c},horizontal:r<0?"left":o>0?"right":"center",vertical:d<0?"top":a>0?"bottom":"middle"};h<s&&i(o+r)<h&&(u.horizontal="center"),f<c&&i(a+d)<f&&(u.vertical="middle"),u.important=n(i(o),i(r))>n(i(a),i(d))?"horizontal":"vertical",t.using.call(this,e,u)}),l.offset(e.extend(_,{using:r}))})},e.ui.position={fit:{left:function(e,t){var i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,l=e.left-t.collisionPosition.marginLeft,s=o-l,a=l+t.collisionWidth-r-o;t.collisionWidth>r?s>0&&a<=0?e.left+=s-(e.left+s+t.collisionWidth-r-o):e.left=a>0&&s<=0?o:s>a?o+r-t.collisionWidth:o:s>0?e.left+=s:a>0?e.left-=a:e.left=n(e.left-l,e.left)},top:function(e,t){var i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,r=t.within.height,l=e.top-t.collisionPosition.marginTop,s=o-l,a=l+t.collisionHeight-r-o;t.collisionHeight>r?s>0&&a<=0?e.top+=s-(e.top+s+t.collisionHeight-r-o):e.top=a>0&&s<=0?o:s>a?o+r-t.collisionHeight:o:s>0?e.top+=s:a>0?e.top-=a:e.top=n(e.top-l,e.top)}},flip:{left:function(e,t){var n,o,r=t.within,l=r.width,s=r.isWindow?r.scrollLeft:r.offset.left,a=e.left-t.collisionPosition.marginLeft,c=a-s,d=a+t.collisionWidth-l-s,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];c<0?((n=e.left+u+h+f+t.collisionWidth-l-(r.offset.left+r.scrollLeft))<0||n<i(c))&&(e.left+=u+h+f):d>0&&((o=e.left-t.collisionPosition.marginLeft+u+h+f-s)>0||i(o)<d)&&(e.left+=u+h+f)},top:function(e,t){var n,o,r=t.within,l=r.height,s=r.isWindow?r.scrollTop:r.offset.top,a=e.top-t.collisionPosition.marginTop,c=a-s,d=a+t.collisionHeight-l-s,u="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];c<0?((o=e.top+u+h+f+t.collisionHeight-l-(r.offset.top+r.scrollTop))<0||o<i(c))&&(e.top+=u+h+f):d>0&&((n=e.top-t.collisionPosition.marginTop+u+h+f-s)>0||i(n)<d)&&(e.top+=u+h+f)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:e(this[0].ownerDocument||document)},e.fn.extend({uniqueId:(n=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}})})?i.apply(t,o):i)||(e.exports=r)},SirL:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("LoAr"),o=(n("a4sr"),n("oVEA")),r=n("r6MD"),l=n("Tc2z"),s=n("1Qxi"),a=n("f+c0"),c=n("Z+pL"),d=n("MptA"),u=function(){function e(e){this.showContentCreditModal=!1,this.close=new i.EventEmitter,this.resourceService=e}return e.prototype.ngOnInit=function(){this.instance=o.a(this.resourceService.instance)},e.prototype.ngOnChanges=function(){if(this.contentCreditsData={contributors:"",creators:"",attributions:"",copyright:""},this.contentData){this.contentData.copyright&&(this.contentCreditsData.copyright=this.contentData.copyright);var e=r.a(this.contentData,"contentCredits"),t=e&&e.length?l.a(e,"name"):[],n=this.contentData.contributors?this.contentData.contributors.split(","):[];this.contentData.owner&&n.push(this.contentData.owner),this.contentCreditsData.contributors=s.a(a.a(c.a(t,n).sort())).join(", ");var i=this.contentData.creators?this.contentData.creators.split(","):[];this.contentData.creator&&i.push(this.contentData.creator);var o=d.a(r.a(this.contentData,"attributions"))?r.a(this.contentData,"attributions").split(","):r.a(this.contentData,"attributions");this.contentCreditsData.attributions=s.a(a.a(c.a(t,n,o,i).sort())).join(", ")}},e.prototype.closeModal=function(e){e.deny(),this.close.emit()},e}()},d2RQ:function(e,t){e.exports=function(){"use strict";return function e(t,n){var i,o,r=n.length;return r>=2?(i=n.slice(0,r/2),o=n.slice(r/2,r),function(e,t,n){for(var i=[],o=t.length,r=n.length;o>0&&r>0;)e(t[0],n[0])<=0?(i.push(t.shift()),o--):(i.push(n.shift()),r--);return i.push.apply(i,o>0?t:n),i}(t,e(t,i),e(t,o))):n.slice()}}()},itKf:function(e,t,n){var i,o,r;o=[n("GtyH"),n("Q7Ky")],void 0===(r="function"==typeof(i=function(e){"use strict";if(!e.ui||!e.ui.fancytree){var t,n,i=null,o=new RegExp(/\.|\//),r=/[&<>"'\/]/g,l=/[<>"'\/]/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},a={16:!0,17:!0,18:!0},c={8:"backspace",9:"tab",10:"return",13:"return",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d={16:"shift",17:"ctrl",18:"alt",91:"meta",93:"meta"},u={0:"",1:"left",2:"middle",3:"right"},h="active expanded focus folder lazy radiogroup selected unselectable unselectableIgnore".split(" "),f={},p="columns types".split(" "),g="checkbox expanded extraClasses folder icon iconTooltip key lazy partsel radiogroup refKey selected statusNodeType title tooltip type unselectable unselectableIgnore unselectableStatus".split(" "),v={},m={},y={active:!0,children:!0,data:!0,focus:!0};for(t=0;t<h.length;t++)f[h[t]]=!0;for(t=0;t<g.length;t++)v[n=g[t]]=!0,n!==n.toLowerCase()&&(m[n.toLowerCase()]=n);return b(e.ui,"Fancytree requires jQuery UI (http://jqueryui.com)"),Date.now||(Date.now=function(){return(new Date).getTime()}),I.prototype={_findDirectChild:function(e){var t,n,i=this.children;if(i)if("string"==typeof e){for(t=0,n=i.length;t<n;t++)if(i[t].key===e)return i[t]}else{if("number"==typeof e)return this.children[e];if(e.parent===this)return e}return null},_setChildren:function(e){b(e&&(!this.children||0===this.children.length),"only init supported"),this.children=[];for(var t=0,n=e.length;t<n;t++)this.children.push(new I(this,e[t]));this.tree._callHook("treeStructureChanged",this.tree,"setChildren")},addChildren:function(t,n){var i,o,r,l,s=this.getFirstChild(),a=this.getLastChild(),c=[];for(e.isPlainObject(t)&&(t=[t]),this.children||(this.children=[]),i=0,o=t.length;i<o;i++)c.push(new I(this,t[i]));if(l=c[0],null==n?this.children=this.children.concat(c):(n=this._findDirectChild(n),b((r=e.inArray(n,this.children))>=0,"insertBefore must be an existing child"),this.children.splice.apply(this.children,[r,0].concat(c))),s&&!n){for(i=0,o=c.length;i<o;i++)c[i].render();s!==this.getFirstChild()&&s.renderStatus(),a!==this.getLastChild()&&a.renderStatus()}else(!this.parent||this.parent.ul||this.tr)&&this.render();return 3===this.tree.options.selectMode&&this.fixSelection3FromEndNodes(),this.triggerModifyChild("add",1===c.length?c[0]:null),l},addClass:function(e){return this.toggleClass(e,!0)},addNode:function(e,t){switch(void 0!==t&&"over"!==t||(t="child"),t){case"after":return this.getParent().addChildren(e,this.getNextSibling());case"before":return this.getParent().addChildren(e,this);case"firstChild":return this.addChildren(e,this.children?this.children[0]:null);case"child":case"over":return this.addChildren(e)}b(!1,"Invalid mode: "+t)},addPagingNode:function(t,n){var i,o;if(n=n||"child",!1!==t)return t=e.extend({title:this.tree.options.strings.moreData,statusNodeType:"paging",icon:!1},t),this.partload=!0,this.addNode(t,n);for(i=this.children.length-1;i>=0;i--)"paging"===(o=this.children[i]).statusNodeType&&this.removeChild(o);this.partload=!1},appendSibling:function(e){return this.addNode(e,"after")},applyCommand:function(e,t){return this.tree.applyCommand(e,this,t)},applyPatch:function(t){if(null===t)return this.remove(),k(this);var n,i,o={children:!0,expanded:!0,parent:!0};for(n in t)t.hasOwnProperty(n)&&(i=t[n],o[n]||e.isFunction(i)||(v[n]?this[n]=i:this.data[n]=i));return t.hasOwnProperty("children")&&(this.removeChildren(),t.children&&this._setChildren(t.children)),this.isVisible()&&(this.renderTitle(),this.renderStatus()),t.hasOwnProperty("expanded")?this.setExpanded(t.expanded):k(this)},collapseSiblings:function(){return this.tree._callHook("nodeCollapseSiblings",this)},copyTo:function(e,t,n){return e.addNode(this.toDict(!0,n),t)},countChildren:function(e){var t,n,i,o=this.children;if(!o)return 0;if(i=o.length,!1!==e)for(t=0,n=i;t<n;t++)i+=o[t].countChildren();return i},debug:function(e){this.tree.options.debugLevel>=4&&(Array.prototype.unshift.call(arguments,this.toString()),x("log",arguments))},discard:function(){return this.warn("FancytreeNode.discard() is deprecated since 2014-02-16. Use .resetLazy() instead."),this.resetLazy()},discardMarkup:function(e){this.tree._callHook(e?"nodeRemoveMarkup":"nodeRemoveChildMarkup",this)},error:function(e){this.tree.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),x("error",arguments))},findAll:function(t){t=e.isFunction(t)?t:D(t);var n=[];return this.visit(function(e){t(e)&&n.push(e)}),n},findFirst:function(t){t=e.isFunction(t)?t:D(t);var n=null;return this.visit(function(e){if(t(e))return n=e,!1}),n},findRelatedNode:function(e,t){return this.tree.findRelatedNode(this,e,t)},_changeSelectStatusAttrs:function(e){var t=!1,n=this.tree.options,o=i.evalOption("unselectable",this,this,n,!1),r=i.evalOption("unselectableStatus",this,this,n,void 0);switch(o&&null!=r&&(e=r),e){case!1:t=this.selected||this.partsel,this.selected=!1,this.partsel=!1;break;case!0:t=!this.selected||!this.partsel,this.selected=!0,this.partsel=!0;break;case void 0:t=this.selected||!this.partsel,this.selected=!1,this.partsel=!0;break;default:b(!1,"invalid state: "+e)}return t&&this.renderStatus(),t},fixSelection3AfterClick:function(e){var t=this.isSelected();this.visit(function(e){if(e._changeSelectStatusAttrs(t),e.radiogroup)return"skip"}),this.fixSelection3FromEndNodes(e)},fixSelection3FromEndNodes:function(e){var t=this.tree.options;b(3===t.selectMode,"expected selectMode 3"),function e(n){var o,r,l,s,a,c,d,u,h=n.children;if(h&&h.length){for(c=!0,d=!1,o=0,r=h.length;o<r;o++)s=e(l=h[o]),i.evalOption("unselectableIgnore",l,l,t,!1)||(!1!==s&&(d=!0),!0!==s&&(c=!1));a=!!c||!!d&&void 0}else a=null==(u=i.evalOption("unselectableStatus",n,n,t,void 0))?!!n.selected:!!u;return n.partsel&&!n.selected&&n.lazy&&null==n.children&&(a=void 0),n._changeSelectStatusAttrs(a),a}(this),this.visitParents(function(e){var n,o,r,l,s,a=e.children,c=!0,d=!1;for(n=0,o=a.length;n<o;n++)i.evalOption("unselectableIgnore",r=a[n],r,t,!1)||(((l=null==(s=i.evalOption("unselectableStatus",r,r,t,void 0))?!!r.selected:!!s)||r.partsel)&&(d=!0),l||(c=!1));e._changeSelectStatusAttrs(l=!!c||!!d&&void 0)})},fromDict:function(t){for(var n in t)v[n]?this[n]=t[n]:"data"===n?e.extend(this.data,t.data):e.isFunction(t[n])||y[n]||(this.data[n]=t[n]);t.children&&(this.removeChildren(),this.addChildren(t.children)),this.renderTitle()},getChildren:function(){if(void 0!==this.hasChildren())return this.children},getFirstChild:function(){return this.children?this.children[0]:null},getIndex:function(){return e.inArray(this,this.parent.children)},getIndexHier:function(t,n){t=t||".";var i,o=[];return e.each(this.getParentList(!1,!0),function(e,t){i=""+(t.getIndex()+1),n&&(i=("0000000"+i).substr(-n)),o.push(i)}),o.join(t)},getKeyPath:function(e){var t=this.tree.options.keyPathSeparator;return t+this.getPath(!e,"key",t)},getLastChild:function(){return this.children?this.children[this.children.length-1]:null},getLevel:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e},getNextSibling:function(){if(this.parent){var e,t,n=this.parent.children;for(e=0,t=n.length-1;e<t;e++)if(n[e]===this)return n[e+1]}return null},getParent:function(){return this.parent},getParentList:function(e,t){for(var n=[],i=t?this:this.parent;i;)(e||i.parent)&&n.unshift(i),i=i.parent;return n},getPath:function(t,n,i){t=!1!==t,i=i||"/";var o,r=[],l=e.isFunction(n=n||"title");return this.visitParents(function(e){e.parent&&(o=l?n(e):e[n],r.unshift(o))},t),r.join(i)},getPrevSibling:function(){if(this.parent){var e,t,n=this.parent.children;for(e=1,t=n.length;e<t;e++)if(n[e]===this)return n[e-1]}return null},getSelectedNodes:function(e){var t=[];return this.visit(function(n){if(n.selected&&(t.push(n),!0===e))return"skip"}),t},hasChildren:function(){if(this.lazy){if(null==this.children)return;if(0===this.children.length)return!1;if(1===this.children.length&&this.children[0].isStatusNode())return;return!0}return!(!this.children||!this.children.length)},hasClass:function(e){return(" "+(this.extraClasses||"")+" ").indexOf(" "+e+" ")>=0},hasFocus:function(){return this.tree.hasFocus()&&this.tree.focusNode===this},info:function(e){this.tree.options.debugLevel>=3&&(Array.prototype.unshift.call(arguments,this.toString()),x("info",arguments))},isActive:function(){return this.tree.activeNode===this},isBelowOf:function(e){return this.getIndexHier(".",5)>e.getIndexHier(".",5)},isChildOf:function(e){return this.parent&&this.parent===e},isDescendantOf:function(t){if(!t||t.tree!==this.tree)return!1;for(var n=this.parent;n;){if(n===t)return!0;n===n.parent&&e.error("Recursive parent link: "+n),n=n.parent}return!1},isExpanded:function(){return!!this.expanded},isFirstSibling:function(){var e=this.parent;return!e||e.children[0]===this},isFolder:function(){return!!this.folder},isLastSibling:function(){var e=this.parent;return!e||e.children[e.children.length-1]===this},isLazy:function(){return!!this.lazy},isLoaded:function(){return!this.lazy||void 0!==this.hasChildren()},isLoading:function(){return!!this._isLoading},isRoot:function(){return this.isRootNode()},isPartsel:function(){return!this.selected&&!!this.partsel},isPartload:function(){return!!this.partload},isRootNode:function(){return this.tree.rootNode===this},isSelected:function(){return!!this.selected},isStatusNode:function(){return!!this.statusNodeType},isPagingNode:function(){return"paging"===this.statusNodeType},isTopLevel:function(){return this.tree.rootNode===this.parent},isUndefined:function(){return void 0===this.hasChildren()},isVisible:function(){var e,t,n=this.tree.enableFilter,i=this.getParentList(!1,!1);if(n&&!this.match&&!this.subMatchCount)return!1;for(e=0,t=i.length;e<t;e++)if(!i[e].expanded)return!1;return!0},lazyLoad:function(e){return this.warn("FancytreeNode.lazyLoad() is deprecated since 2014-02-16. Use .load() instead."),this.load(e)},load:function(e){var t,n,i=this,o=this.isExpanded();return b(this.isLazy(),"load() requires a lazy node"),e||this.isUndefined()?(this.isLoaded()&&this.resetLazy(),!1===(n=this.tree._triggerNodeEvent("lazyLoad",this))?k(this):(b("boolean"!=typeof n,"lazyLoad event must return source in data.result"),t=this.tree._callHook("nodeLoadChildren",this,n),o?(this.expanded=!0,t.always(function(){i.render()})):t.always(function(){i.renderStatus()}),t)):k(this)},makeVisible:function(t){var n,i=this,o=[],r=new e.Deferred,l=this.getParentList(!1,!1),s=!(t&&!0===t.noAnimation),a=!(t&&!1===t.scrollIntoView);for(n=l.length-1;n>=0;n--)o.push(l[n].setExpanded(!0,t));return e.when.apply(e,o).done(function(){a?i.scrollIntoView(s).done(function(){r.resolve()}):r.resolve()}),r.promise()},moveTo:function(t,n,i){void 0===n||"over"===n?n="child":"firstChild"===n&&(t.children&&t.children.length?(n="before",t=t.children[0]):n="child");var o,r=this.tree,l=this.parent,s="child"===n?t:t.parent;if(this!==t){if(this.parent?s.isDescendantOf(this)&&e.error("Cannot move a node to its own descendant"):e.error("Cannot move system root"),s!==l&&l.triggerModifyChild("remove",this),1===this.parent.children.length){if(this.parent===s)return;this.parent.children=this.parent.lazy?[]:null,this.parent.expanded=!1}else b((o=e.inArray(this,this.parent.children))>=0,"invalid source parent"),this.parent.children.splice(o,1);if(this.parent=s,s.hasChildren())switch(n){case"child":s.children.push(this);break;case"before":b((o=e.inArray(t,s.children))>=0,"invalid target parent"),s.children.splice(o,0,this);break;case"after":b((o=e.inArray(t,s.children))>=0,"invalid target parent"),s.children.splice(o+1,0,this);break;default:e.error("Invalid mode "+n)}else s.children=[this];i&&t.visit(i,!0),s.triggerModifyChild(s===l?"move":"add",this),r!==t.tree&&(this.warn("Cross-tree moveTo is experimental!"),this.visit(function(e){e.tree=t.tree},!0)),r._callHook("treeStructureChanged",r,"moveTo"),l.isDescendantOf(s)||l.render(),s.isDescendantOf(l)||s===l||s.render()}},navigate:function(t,n){var i,o=e.ui.keyCode;switch(t){case"left":case o.LEFT:if(this.expanded)return this.setExpanded(!1);break;case"right":case o.RIGHT:if(!this.expanded&&(this.children||this.lazy))return this.setExpanded()}if(i=this.findRelatedNode(t)){try{i.makeVisible({scrollIntoView:!1})}catch(r){}return!1===n?(i.setFocus(),k()):i.setActive()}return this.warn("Could not find related node '"+t+"'."),k()},remove:function(){return this.parent.removeChild(this)},removeChild:function(e){return this.tree._callHook("nodeRemoveChild",this,e)},removeChildren:function(){return this.tree._callHook("nodeRemoveChildren",this)},removeClass:function(e){return this.toggleClass(e,!1)},render:function(e,t){return this.tree._callHook("nodeRender",this,e,t)},renderTitle:function(){return this.tree._callHook("nodeRenderTitle",this)},renderStatus:function(){return this.tree._callHook("nodeRenderStatus",this)},replaceWith:function(n){var i,o=this.parent,r=e.inArray(this,o.children),l=this;return b(this.isPagingNode(),"replaceWith() currently requires a paging status node"),(i=this.tree._callHook("nodeLoadChildren",this,n)).done(function(e){var n=l.children;for(t=0;t<n.length;t++)n[t].parent=o;o.children.splice.apply(o.children,[r+1,0].concat(n)),l.children=null,l.remove(),o.render()}).fail(function(){l.setExpanded()}),i},resetLazy:function(){this.removeChildren(),this.expanded=!1,this.lazy=!0,this.children=void 0,this.renderStatus()},scheduleAction:function(t,n){this.tree.timer&&(clearTimeout(this.tree.timer),this.tree.debug("clearTimeout(%o)",this.tree.timer)),this.tree.timer=null;var i=this;switch(t){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){i.tree.debug("setTimeout: trigger expand"),i.setExpanded(!0)},n);break;case"activate":this.tree.timer=setTimeout(function(){i.tree.debug("setTimeout: trigger activate"),i.setActive(!0)},n);break;default:e.error("Invalid mode "+t)}},scrollIntoView:function(t,n){if(void 0!==n&&(i=n).tree&&void 0!==i.statusNodeType)throw Error("scrollIntoView() with 'topNode' option is deprecated since 2014-05-08. Use 'options.topNode' instead.");var i,o=e.extend({effects:!0===t?{duration:200,queue:!1}:t,scrollOfs:this.tree.options.scrollOfs,scrollParent:this.tree.options.scrollParent,topNode:null},n),r=o.scrollParent,l=this.tree.$container,s=l.css("overflow-y");r?r.jquery||(r=e(r)):r=this.tree.tbody?l.scrollParent():"scroll"===s||"auto"===s?l:l.scrollParent(),r[0]!==document&&r[0]!==document.body||(this.debug("scrollIntoView(): normalizing scrollParent to 'window':",r[0]),r=e(window));var a,c,d,u=new e.Deferred,h=this,f=e(this.span).height(),p=o.scrollOfs.top||0,g=o.scrollOfs.bottom||0,v=r.height(),m=r.scrollTop(),y=r,x=r[0]===window,w=o.topNode||null,C=null;return this.isVisible()?(x?(c=e(this.span).offset().top,a=w&&w.span?e(w.span).offset().top:0,y=e("html,body")):(b(r[0]!==document&&r[0]!==document.body,"scrollParent should be a simple element or `window`, not document or body."),d=r.offset().top,c=e(this.span).offset().top-d+m,a=w?e(w.span).offset().top-d+m:0,v-=Math.max(0,r.innerHeight()-r[0].clientHeight)),c<m+p?C=c-p:c+f>m+v-g&&(C=c+f-v+g,w&&(b(w.isRootNode()||w.isVisible(),"topNode must be visible"),a<C&&(C=a-p))),null===C?u.resolveWith(this):o.effects?(o.effects.complete=function(){u.resolveWith(h)},y.stop(!0).animate({scrollTop:C},o.effects)):(y[0].scrollTop=C,u.resolveWith(this)),u.promise()):(this.warn("scrollIntoView(): node is invisible."),k())},setActive:function(e,t){return this.tree._callHook("nodeSetActive",this,e,t)},setExpanded:function(e,t){return this.tree._callHook("nodeSetExpanded",this,e,t)},setFocus:function(e){return this.tree._callHook("nodeSetFocus",this,e)},setSelected:function(e,t){return this.tree._callHook("nodeSetSelected",this,e,t)},setStatus:function(e,t,n){return this.tree._callHook("nodeSetStatus",this,e,t,n)},setTitle:function(e){this.title=e,this.renderTitle(),this.triggerModify("rename")},sortChildren:function(e,t){var n,i,o=this.children;if(o){if(o.sort(e=e||function(e,t){var n=e.title.toLowerCase(),i=t.title.toLowerCase();return n===i?0:n>i?1:-1}),t)for(n=0,i=o.length;n<i;n++)o[n].children&&o[n].sortChildren(e,"$norender$");"$norender$"!==t&&this.render(),this.triggerModifyChild("sort")}},toDict:function(t,n){var i,o,r,l,s={},a=this;if(e.each(g,function(e,t){(a[t]||!1===a[t])&&(s[t]=a[t])}),e.isEmptyObject(this.data)||(s.data=e.extend({},this.data),e.isEmptyObject(s.data)&&delete s.data),n){if(!1===(l=n(s,a)))return!1;"skip"===l&&(t=!1)}if(t&&this.hasChildren())for(s.children=[],i=0,o=this.children.length;i<o;i++)(r=this.children[i]).isStatusNode()||!1!==(l=r.toDict(!0,n))&&s.children.push(l);return s},toggleClass:function(t,n){var i,o,r=t.match(/\S+/g)||[],l=0,s=!1,a=this[this.tree.statusClassPropName],c=" "+(this.extraClasses||"")+" ";for(a&&e(a).toggleClass(t,n);i=r[l++];)if(o=c.indexOf(" "+i+" ")>=0,n=void 0===n?!o:!!n)o||(c+=i+" ",s=!0);else for(;c.indexOf(" "+i+" ")>-1;)c=c.replace(" "+i+" "," ");return this.extraClasses=e.trim(c),s},toggleExpanded:function(){return this.tree._callHook("nodeToggleExpanded",this)},toggleSelected:function(){return this.tree._callHook("nodeToggleSelected",this)},toString:function(){return"FancytreeNode@"+this.key+"[title='"+this.title+"']"},triggerModifyChild:function(t,n,i){var o,r=this.tree.options.modifyChild;r&&(n&&n.parent!==this&&e.error("childNode "+n+" is not a child of "+this),o={node:this,tree:this.tree,operation:t,childNode:n||null},i&&e.extend(o,i),r({type:"modifyChild"},o))},triggerModify:function(e,t){this.parent.triggerModifyChild(e,this,t)},visit:function(e,t){var n,i,o=!0,r=this.children;if(!0===t&&(!1===(o=e(this))||"skip"===o))return o;if(r)for(n=0,i=r.length;n<i&&!1!==(o=r[n].visit(e,!0));n++);return o},visitAndLoad:function(t,n,i){var o,r,l,s=this;return!t||!0!==n||!1!==(r=t(s))&&"skip"!==r?s.children||s.lazy?(o=new e.Deferred,l=[],s.load().done(function(){for(var n=0,i=s.children.length;n<i;n++){if(!1===(r=s.children[n].visitAndLoad(t,!0,!0))){o.reject();break}"skip"!==r&&l.push(r)}e.when.apply(this,l).then(function(){o.resolve()})}),o.promise()):k():i?r:k()},visitParents:function(e,t){if(t&&!1===e(this))return!1;for(var n=this.parent;n;){if(!1===e(n))return!1;n=n.parent}return!0},visitSiblings:function(e,t){var n,i,o,r=this.parent.children;for(n=0,i=r.length;n<i;n++)if(o=r[n],(t||o!==this)&&!1===e(o))return!1;return!0},warn:function(e){this.tree.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),x("warn",arguments))}},P.prototype={_makeHookContext:function(t,n,i){var o,r;return void 0!==t.node?(n&&t.originalEvent!==n&&e.error("invalid args"),o=t):t.tree?o={node:t,tree:r=t.tree,widget:r.widget,options:r.widget.options,originalEvent:n,typeInfo:r.types[t.type]||{}}:t.widget?o={node:null,tree:t,widget:t.widget,options:t.widget.options,originalEvent:n}:e.error("invalid args"),i&&e.extend(o,i),o},_callHook:function(t,n,i){var o=this._makeHookContext(n),r=this[t],l=Array.prototype.slice.call(arguments,2);return e.isFunction(r)||e.error("_callHook('"+t+"') is not a function"),l.unshift(o),r.apply(this,l)},_setExpiringValue:function(e,t,n){this._tempCache[e]={value:t,expire:Date.now()+(+n||50)}},_getExpiringValue:function(e){var t=this._tempCache[e];return t&&t.expire>Date.now()?t.value:(delete this._tempCache[e],null)},_usesExtension:function(t){return e.inArray(t,this.options.extensions)>=0},_requireExtension:function(t,n,i,o){null!=i&&(i=!!i);var r=this._local.name,l=this.options.extensions,s=e.inArray(t,l)<e.inArray(r,l),a=n&&null==this.ext[t],c=!a&&null!=i&&i!==s;return b(r&&r!==t,"invalid or same name '"+r+"' (require yourself?)"),!a&&!c||(o||(a||n?(o="'"+r+"' extension requires '"+t+"'",c&&(o+=" to be registered "+(i?"before":"after")+" itself")):o="If used together, `"+t+"` must be registered "+(i?"before":"after")+" `"+r+"`"),e.error(o),!1)},activateKey:function(e,t){var n=this.getNodeByKey(e);return n?n.setActive(!0,t):this.activeNode&&this.activeNode.setActive(!1,t),n},addPagingNode:function(e,t){return this.rootNode.addPagingNode(e,t)},applyCommand:function(t,n,i){var o;switch(n=n||this.getActiveNode(),t){case"moveUp":(o=n.getPrevSibling())&&(n.moveTo(o,"before"),n.setActive());break;case"moveDown":(o=n.getNextSibling())&&(n.moveTo(o,"after"),n.setActive());break;case"indent":(o=n.getPrevSibling())&&(n.moveTo(o,"child"),o.setExpanded(),n.setActive());break;case"outdent":n.isTopLevel()||(n.moveTo(n.getParent(),"after"),n.setActive());break;case"remove":o=n.getPrevSibling()||n.getParent(),n.remove(),o&&o.setActive();break;case"addChild":n.editCreateNode("child","");break;case"addSibling":n.editCreateNode("after","");break;case"rename":n.editStart();break;case"down":case"first":case"last":case"left":case"parent":case"right":case"up":return n.navigate(t);default:e.error("Unhandled command: '"+t+"'")}},applyPatch:function(t){var n,i,o,r,l,s,a=t.length,c=[];for(i=0;i<a;i++)b(2===(o=t[i]).length,"patchList must be an array of length-2-arrays"),l=o[1],(s=null===(r=o[0])?this.rootNode:this.getNodeByKey(r))?(n=new e.Deferred,c.push(n),s.applyPatch(l).always(S(n,s))):this.warn("could not find node with key '"+r+"'");return e.when.apply(e,c).promise()},clear:function(e){this._callHook("treeClear",this)},count:function(){return this.rootNode.countChildren()},debug:function(e){this.options.debugLevel>=4&&(Array.prototype.unshift.call(arguments,this.toString()),x("log",arguments))},destroy:function(){this.widget.destroy()},enable:function(e){!1===e?this.widget.disable():this.widget.enable()},enableUpdate:function(e){return!!this._enableUpdate==!!(e=!1!==e)?e:(this._enableUpdate=e,e?(this.debug("enableUpdate(true): redraw "),this._callHook("treeStructureChanged",this,"enableUpdate"),this.render()):this.debug("enableUpdate(false)..."),!e)},error:function(e){this.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),x("error",arguments))},expandAll:function(e,t){var n=this.enableUpdate(!1);e=!1!==e,this.visit(function(n){!1!==n.hasChildren()&&n.isExpanded()!==e&&n.setExpanded(e,t)}),this.enableUpdate(n)},findAll:function(e){return this.rootNode.findAll(e)},findFirst:function(e){return this.rootNode.findFirst(e)},findNextNode:function(e,t){var n,i=null,o=this.getFirstChild();function r(n){if(e(n)&&(i=n),i||n===t)return!1}return e="string"==typeof e?(n=new RegExp("^"+e,"i"),function(e){return n.test(e.title)}):e,this.visitRows(r,{start:t=t||o,includeSelf:!1}),i||t===o||this.visitRows(r,{start:o,includeSelf:!0}),i},findRelatedNode:function(t,n,i){var o=null,r=e.ui.keyCode;switch(n){case"parent":case r.BACKSPACE:t.parent&&t.parent.parent&&(o=t.parent);break;case"first":case r.HOME:this.visit(function(e){if(e.isVisible())return o=e,!1});break;case"last":case r.END:this.visit(function(e){e.isVisible()&&(o=e)});break;case"left":case r.LEFT:t.expanded?t.setExpanded(!1):t.parent&&t.parent.parent&&(o=t.parent);break;case"right":case r.RIGHT:t.expanded||!t.children&&!t.lazy?t.children&&t.children.length&&(o=t.children[0]):(t.setExpanded(),o=t);break;case"up":case r.UP:this.visitRows(function(e){return o=e,!1},{start:t,reverse:!0,includeSelf:!1});break;case"down":case r.DOWN:this.visitRows(function(e){return o=e,!1},{start:t,includeSelf:!1});break;default:this.tree.warn("Unknown relation '"+n+"'.")}return o},generateFormElements:function(t,n,i){i=i||{};var o,r="string"==typeof t?t:"ft_"+this._id+"[]",l="string"==typeof n?n:"ft_"+this._id+"_active",s="fancytree_result_"+this._id,a=e("#"+s),c=3===this.options.selectMode&&!1!==i.stopOnParents;function d(t){a.append(e("<input>",{type:"checkbox",name:r,value:t.key,checked:!0}))}a.length?a.empty():a=e("<div>",{id:s}).hide().insertAfter(this.$container),!1!==n&&this.activeNode&&a.append(e("<input>",{type:"radio",name:l,value:this.activeNode.key,checked:!0})),i.filter?this.visit(function(e){var t=i.filter(e);if("skip"===t)return t;!1!==t&&d(e)}):!1!==t&&(o=this.getSelectedNodes(c),e.each(o,function(e,t){d(t)}))},getActiveNode:function(){return this.activeNode},getFirstChild:function(){return this.rootNode.getFirstChild()},getFocusNode:function(){return this.focusNode},getOption:function(e){return this.widget.option(e)},getNodeByKey:function(e,t){var n,i;return!t&&(n=document.getElementById(this.options.idPrefix+e))?n.ftnode?n.ftnode:null:(i=null,(t=t||this.rootNode).visit(function(t){if(t.key===e)return i=t,!1},!0),i)},getRootNode:function(){return this.rootNode},getSelectedNodes:function(e){return this.rootNode.getSelectedNodes(e)},hasFocus:function(){return!!this._hasFocus},info:function(e){this.options.debugLevel>=3&&(Array.prototype.unshift.call(arguments,this.toString()),x("info",arguments))},isLoading:function(){var e=!1;return this.rootNode.visit(function(t){if(t._isLoading||t._requestId)return e=!0,!1},!0),e},loadKeyPath:function(t,n){var i,o,r,l=this,s=new e.Deferred,a=this.getRootNode(),c=this.options.keyPathSeparator,d=[],u=e.extend({},n);for("function"==typeof n?i=n:n&&n.callback&&(i=n.callback),u.callback=function(e,t,n){i&&i.call(e,t,n),s.notifyWith(e,[{node:t,status:n}])},null==u.matchKey&&(u.matchKey=function(e,t){return e.key===t}),e.isArray(t)||(t=[t]),o=0;o<t.length;o++)(r=t[o]).charAt(0)===c&&(r=r.substr(1)),d.push(r.split(c));return setTimeout(function(){l._loadKeyPathImpl(s,u,a,d).done(function(){s.resolve()})},0),s.promise()},_loadKeyPathImpl:function(t,n,i,o){var r,l,s,a,c,d,u,h,f,p,g=this;function v(e,t){var i,o,r=e.children;if(r)for(i=0,o=r.length;i<o;i++)if(n.matchKey(r[i],t))return r[i];return null}for(u={},l=0;l<o.length;l++)for(f=o[l],h=i;f.length;){if(s=f.shift(),!(a=v(h,s))){this.warn("loadKeyPath: key not found: "+s+" (parent: "+h+")"),n.callback(this,s,"error");break}if(0===f.length){n.callback(this,a,"ok");break}if(a.lazy&&void 0===a.hasChildren()){n.callback(this,a,"loaded"),u[s=a.key]?u[s].pathSegList.push(f):u[s]={parent:a,pathSegList:[f]};break}n.callback(this,a,"loaded"),h=a}function m(e,t,i){n.callback(g,t,"loading"),t.load().done(function(){g._loadKeyPathImpl.call(g,e,n,t,i).always(S(e,g))}).fail(function(i){g.warn("loadKeyPath: error loading lazy "+t),n.callback(g,a,"error"),e.rejectWith(g)})}for(c in r=[],u)u.hasOwnProperty(c)&&(d=u[c],p=new e.Deferred,r.push(p),m(p,d.parent,d.pathSegList));return e.when.apply(e,r).promise()},reactivate:function(e){var t,n=this.activeNode;return n?(this.activeNode=null,t=n.setActive(!0,{noFocus:!0}),e&&n.setFocus(),t):k()},reload:function(e){return this._callHook("treeClear",this),this._callHook("treeLoad",this,e)},render:function(e,t){return this.rootNode.render(e,t)},selectAll:function(e){this.visit(function(t){t.setSelected(e)})},setFocus:function(e){return this._callHook("treeSetFocus",this,e)},setOption:function(e,t){return this.widget.option(e,t)},debugTime:function(e){this.options.debugLevel>=4&&window.console.time(this+" - "+e)},debugTimeEnd:function(e){this.options.debugLevel>=4&&window.console.timeEnd(this+" - "+e)},toDict:function(e,t){var n=this.rootNode.toDict(!0,t);return e?n:n.children},toString:function(){return"Fancytree@"+this._id},_triggerNodeEvent:function(e,t,n,i){var o=this._makeHookContext(t,n,i),r=this.widget._trigger(e,n,o);return!1!==r&&void 0!==o.result?o.result:r},_triggerTreeEvent:function(e,t,n){var i=this._makeHookContext(this,t,n),o=this.widget._trigger(e,t,i);return!1!==o&&void 0!==i.result?i.result:o},visit:function(e){return this.rootNode.visit(e,!1)},visitRows:function(e,t){if(!this.rootNode.hasChildren())return!1;if(t&&t.reverse)return delete t.reverse,this._visitRowsUp(e,t);var n,i,o,r=0,l=!1===(t=t||{}).includeSelf,s=!!t.includeHidden,a=!s&&this.enableFilter,c=t.start||this.rootNode.children[0];for(i=c.parent;i;){for(n=(o=i.children).indexOf(c)+r;n<o.length;n++)if(c=o[n],!a||c.match||c.subMatchCount){if(!l&&!1===e(c))return!1;if(l=!1,c.children&&c.children.length&&(s||c.expanded)&&!1===c.visit(function(t){return!a||t.match||t.subMatchCount?!1!==e(t)&&(s||!t.children||t.expanded?void 0:"skip"):"skip"},!1))return!1}c=i,i=i.parent,r=1}return!0},_visitRowsUp:function(e,t){for(var n,i,o,r=!!t.includeHidden,l=t.start||this.rootNode.children[0];;){if((n=(o=l.parent).children)[0]===l){if(!(l=o).parent)break;n=o.children}else for(i=n.indexOf(l),l=n[i-1];(r||l.expanded)&&l.children&&l.children.length;)o=l,l=(n=l.children)[n.length-1];if((r||l.isVisible())&&!1===e(l))return!1}},warn:function(e){this.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),x("warn",arguments))}},e.extend(P.prototype,{nodeClick:function(e){var t,n,i=e.targetType,o=e.node;if("expander"===i){if(o.isLoading())return void o.debug("Got 2nd click while loading: ignored");this._callHook("nodeToggleExpanded",e)}else if("checkbox"===i)this._callHook("nodeToggleSelected",e),e.options.focusOnSelect&&this._callHook("nodeSetFocus",e,!0);else{if(n=!1,t=!0,o.folder)switch(e.options.clickFolderMode){case 2:n=!0,t=!1;break;case 3:t=!0,n=!0}t&&(this.nodeSetFocus(e),this._callHook("nodeSetActive",e,!0)),n&&this._callHook("nodeToggleExpanded",e)}},nodeCollapseSiblings:function(e,t){var n,i,o,r=e.node;if(r.parent)for(i=0,o=(n=r.parent.children).length;i<o;i++)n[i]!==r&&n[i].expanded&&this._callHook("nodeSetExpanded",n[i],!1,t)},nodeDblclick:function(e){"title"===e.targetType&&4===e.options.clickFolderMode&&this._callHook("nodeToggleExpanded",e),"title"===e.targetType&&e.originalEvent.preventDefault()},nodeKeydown:function(t){var n,o,r,l=t.originalEvent,s=t.node,a=t.tree,u=t.options,h=l.which,f=l.key||String.fromCharCode(h),p=!d[h]&&!c[h]&&!(l.altKey||l.ctrlKey||l.metaKey),g=e(l.target),v=!0,m=!(l.ctrlKey||!u.autoActivate);if(s||(r=this.getActiveNode()||this.getFirstChild())&&(r.setFocus(),(s=t.node=this.focusNode).debug("Keydown force focus on active node")),u.quicksearch&&p&&!g.is(":input:enabled"))return(o=Date.now())-a.lastQuicksearchTime>500&&(a.lastQuicksearchTerm=""),a.lastQuicksearchTime=o,a.lastQuicksearchTerm+=f,(n=a.findNextNode(a.lastQuicksearchTerm,a.getActiveNode()))&&n.setActive(),void l.preventDefault();switch(i.eventToString(l)){case"+":case"=":a.nodeSetExpanded(t,!0);break;case"-":a.nodeSetExpanded(t,!1);break;case"space":s.isPagingNode()?a._triggerNodeEvent("clickPaging",t,l):i.evalOption("checkbox",s,s,u,!1)?a.nodeToggleSelected(t):a.nodeSetActive(t,!0);break;case"return":a.nodeSetActive(t,!0);break;case"home":case"end":case"backspace":case"left":case"right":case"up":case"down":s.navigate(l.which,m);break;default:v=!1}v&&l.preventDefault()},nodeLoadChildren:function(t,n){var i,o,r,l,s=t.tree,a=t.node,c=Date.now();return e.isFunction(n)&&(n=n.call(s,{type:"source"},t),b(!e.isFunction(n),"source callback must not return another function")),n.url&&(a._requestId&&a.warn("Recursive load request #"+c+" while #"+a._requestId+" is pending."),i=e.extend({},t.options.ajax,n),a._requestId=c,i.debugDelay?(o=i.debugDelay,delete i.debugDelay,e.isArray(o)&&(o=o[0]+Math.random()*(o[1]-o[0])),a.warn("nodeLoadChildren waiting debugDelay "+Math.round(o)+" ms ..."),r=e.Deferred(function(t){setTimeout(function(){e.ajax(i).done(function(){t.resolveWith(this,arguments)}).fail(function(){t.rejectWith(this,arguments)})},o)})):r=e.ajax(i),n=new e.Deferred,r.done(function(i,o,r){var l,d;if("json"!==this.dataType&&"jsonp"!==this.dataType||"string"!=typeof i||e.error("Ajax request returned a string (did you get the JSON dataType wrong?)."),a._requestId&&a._requestId>c)n.rejectWith(this,["$recursive_request"]);else{if(t.options.postProcess){try{d=s._triggerNodeEvent("postProcess",t,t.originalEvent,{response:i,error:null,dataType:this.dataType})}catch(u){d={error:u,message:""+u,details:"postProcess failed"}}if(d.error)return l=e.isPlainObject(d.error)?d.error:{message:d.error},l=s._makeHookContext(a,null,l),void n.rejectWith(this,[l]);(e.isArray(d)||e.isPlainObject(d)&&e.isArray(d.children))&&(i=d)}else i&&i.hasOwnProperty("d")&&t.options.enableAspx&&(i="string"==typeof i.d?e.parseJSON(i.d):i.d);n.resolveWith(this,[i])}}).fail(function(e,t,i){var o=s._makeHookContext(a,null,{error:e,args:Array.prototype.slice.call(arguments),message:i,details:e.status+": "+i});n.rejectWith(this,[o])})),e.isFunction(n.then)&&e.isFunction(n.catch)&&(r=n,n=new e.Deferred,r.then(function(e){n.resolve(e)},function(e){n.reject(e)})),e.isFunction(n.promise)?(s.nodeSetStatus(t,"loading"),n.done(function(e){s.nodeSetStatus(t,"ok"),a._requestId=null}).fail(function(e){var n;"$recursive_request"!==e?(e.node&&e.error&&e.message?n=e:"[object Object]"===(n=s._makeHookContext(a,null,{error:e,args:Array.prototype.slice.call(arguments),message:e?e.message||e.toString():""})).message&&(n.message=""),a.warn("Load children failed ("+n.message+")",n),!1!==s._triggerNodeEvent("loadError",n,null)&&s.nodeSetStatus(t,"error",n.message,n.details)):a.warn("Ignored response for obsolete load request #"+c+" (expected #"+a._requestId+")")})):t.options.postProcess&&(l=s._triggerNodeEvent("postProcess",t,t.originalEvent,{response:n,error:null,dataType:typeof n}),(e.isArray(l)||e.isPlainObject(l)&&e.isArray(l.children))&&(n=l)),e.when(n).done(function(n){var i,o;e.isPlainObject(n)&&(b(a.isRootNode(),"source may only be an object for root nodes (expecting an array of child objects otherwise)"),b(e.isArray(n.children),"if an object is passed as source, it must contain a 'children' array (all other properties are added to 'tree.data')"),i=n,n=n.children,delete i.children,e.each(p,function(e,t){void 0!==i[t]&&(s[t]=i[t],delete i[t])}),e.extend(s.data,i)),b(e.isArray(n),"expected array of children"),a._setChildren(n),s.options.nodata&&0===n.length&&(e.isFunction(s.options.nodata)?o=s.options.nodata.call(s,{type:"nodata"},t):!0===s.options.nodata&&a.isRootNode()?o=s.options.strings.nodata:"string"==typeof s.options.nodata&&a.isRootNode()&&(o=s.options.nodata),o&&a.setStatus("nodata",o)),s._triggerNodeEvent("loadChildren",a)})},nodeLoadKeyPath:function(e,t){},nodeRemoveChild:function(t,n){var i,o=t.node,r=e.extend({},t,{node:n}),l=o.children;if(1===l.length)return b(n===l[0],"invalid single child"),this.nodeRemoveChildren(t);this.activeNode&&(n===this.activeNode||this.activeNode.isDescendantOf(n))&&this.activeNode.setActive(!1),this.focusNode&&(n===this.focusNode||this.focusNode.isDescendantOf(n))&&(this.focusNode=null),this.nodeRemoveMarkup(r),this.nodeRemoveChildren(r),b((i=e.inArray(n,l))>=0,"invalid child"),o.triggerModifyChild("remove",n),n.visit(function(e){e.parent=null},!0),this._callHook("treeRegisterNode",this,!1,n),l.splice(i,1)},nodeRemoveChildMarkup:function(t){var n=t.node;n.ul&&(n.isRootNode()?e(n.ul).empty():(e(n.ul).remove(),n.ul=null),n.visit(function(e){e.li=e.ul=null}))},nodeRemoveChildren:function(e){var t=e.tree,n=e.node;n.children&&(this.activeNode&&this.activeNode.isDescendantOf(n)&&this.activeNode.setActive(!1),this.focusNode&&this.focusNode.isDescendantOf(n)&&(this.focusNode=null),this.nodeRemoveChildMarkup(e),n.triggerModifyChild("remove",null),n.visit(function(e){e.parent=null,t._callHook("treeRegisterNode",t,!1,e)}),n.children=n.lazy?[]:null,n.isRootNode()||(n.expanded=!1),this.nodeRenderStatus(e))},nodeRemoveMarkup:function(t){var n=t.node;n.li&&(e(n.li).remove(),n.li=null),this.nodeRemoveChildMarkup(t)},nodeRender:function(t,n,i,o,r){var l,s,a,c,d,u,h,f=t.node,p=t.tree,g=t.options,v=g.aria,m=!1,y=f.parent,x=!y,w=f.children,C=null;if(!1!==p._enableUpdate&&(x||y.ul)){if(b(x||y.ul,"parent UL must exist"),x||(f.li&&(n||f.li.parentNode!==f.parent.ul)&&(f.li.parentNode===f.parent.ul?C=f.li.nextSibling:this.debug("Unlinking "+f+" (must be child of "+f.parent+")"),this.nodeRemoveMarkup(t)),f.li?this.nodeRenderStatus(t):(m=!0,f.li=document.createElement("li"),f.li.ftnode=f,f.key&&g.generateIds&&(f.li.id=g.idPrefix+f.key),f.span=document.createElement("span"),f.span.className="fancytree-node",v&&!f.tr&&e(f.li).attr("role","treeitem"),f.li.appendChild(f.span),this.nodeRenderTitle(t),g.createNode&&g.createNode.call(p,{type:"createNode"},t)),g.renderNode&&g.renderNode.call(p,{type:"renderNode"},t)),w){if(x||f.expanded||!0===i){for(f.ul||(f.ul=document.createElement("ul"),(!0!==o||r)&&f.expanded||(f.ul.style.display="none"),v&&e(f.ul).attr("role","group"),f.li?f.li.appendChild(f.ul):f.tree.$div.append(f.ul)),c=0,d=w.length;c<d;c++)h=e.extend({},t,{node:w[c]}),this.nodeRender(h,n,i,!1,!0);for(l=f.ul.firstChild;l;)(a=l.ftnode)&&a.parent!==f?(f.debug("_fixParent: remove missing "+a,l),u=l.nextSibling,l.parentNode.removeChild(l),l=u):l=l.nextSibling;for(l=f.ul.firstChild,c=0,d=w.length-1;c<d;c++)(s=w[c])===(a=l.ftnode)?l=l.nextSibling:f.ul.insertBefore(s.li,a.li)}}else f.ul&&(this.warn("remove child markup for "+f),this.nodeRemoveChildMarkup(t));x||m&&y.ul.insertBefore(f.li,C)}},nodeRenderTitle:function(t,n){var r,l,s,a,c,d,u,h=t.node,f=t.tree,p=t.options,g=p.aria,v=h.getLevel(),m=[];void 0!==n&&(h.title=n),h.span&&!1!==f._enableUpdate&&(c=g&&!1!==h.hasChildren()?" role='button'":"",v<p.minExpandLevel?(h.lazy||(h.expanded=!0),v>1&&m.push("<span "+c+" class='fancytree-expander fancytree-expander-fixed'></span>")):m.push("<span "+c+" class='fancytree-expander'></span>"),(r=i.evalOption("checkbox",h,h,p,!1))&&!h.isStatusNode()&&(l="fancytree-checkbox",("radio"===r||h.parent&&h.parent.radiogroup)&&(l+=" fancytree-radio"),m.push("<span "+(c=g?" role='checkbox'":"")+" class='"+l+"'></span>")),void 0!==h.data.iconClass&&(h.icon?e.error("'iconClass' node option is deprecated since v2.14.0: use 'icon' only instead"):(h.warn("'iconClass' node option is deprecated since v2.14.0: use 'icon' instead"),h.icon=h.data.iconClass)),!1!==(s=i.evalOption("icon",h,h,p,!0))&&(c=g?" role='presentation'":"",u=(u=i.evalOption("iconTooltip",h,h,p,null))?" title='"+T(u)+"'":"","string"==typeof s?o.test(s)?(s="/"===s.charAt(0)?s:(p.imagePath||"")+s,m.push("<img src='"+s+"' class='fancytree-icon'"+u+" alt='' />")):m.push("<span "+c+" class='fancytree-custom-icon "+s+"'"+u+"></span>"):m.push(s.text?"<span "+c+" class='fancytree-custom-icon "+(s.addClass||"")+"'"+u+">"+i.escapeHtml(s.text)+"</span>":s.html?"<span "+c+" class='fancytree-custom-icon "+(s.addClass||"")+"'"+u+">"+s.html+"</span>":"<span "+c+" class='fancytree-icon'"+u+"></span>")),a="",p.renderTitle&&(a=p.renderTitle.call(f,{type:"renderTitle"},t)||""),a||(!0===(d=i.evalOption("tooltip",h,h,p,null))&&(d=h.title),a="<span class='fancytree-title'"+(d=d?" title='"+T(d)+"'":"")+(p.titlesTabbable?" tabindex='0'":"")+">"+(p.escapeTitles?i.escapeHtml(h.title):h.title)+"</span>"),m.push(a),h.span.innerHTML=m.join(""),this.nodeRenderStatus(t),p.enhanceTitle&&(t.$title=e(">span.fancytree-title",h.span),a=p.enhanceTitle.call(f,{type:"enhanceTitle"},t)||""))},nodeRenderStatus:function(t){var n,o=t.node,r=t.tree,l=t.options,s=o.hasChildren(),a=o.isLastSibling(),c=l.aria,d=l._classNames,u=[],h=o[r.statusClassPropName];h&&!1!==r._enableUpdate&&(c&&(n=e(o.tr||o.li)),u.push(d.node),r.activeNode===o&&u.push(d.active),r.focusNode===o&&u.push(d.focused),o.expanded&&u.push(d.expanded),c&&(!1===s?n.removeAttr("aria-expanded"):n.attr("aria-expanded",Boolean(o.expanded))),o.folder&&u.push(d.folder),!1!==s&&u.push(d.hasChildren),a&&u.push(d.lastsib),o.lazy&&null==o.children&&u.push(d.lazy),o.partload&&u.push(d.partload),o.partsel&&u.push(d.partsel),i.evalOption("unselectable",o,o,l,!1)&&u.push(d.unselectable),o._isLoading&&u.push(d.loading),o._error&&u.push(d.error),o.statusNodeType&&u.push(d.statusNodePrefix+o.statusNodeType),o.selected?(u.push(d.selected),c&&n.attr("aria-selected",!0)):c&&n.attr("aria-selected",!1),o.extraClasses&&u.push(o.extraClasses),u.push(!1===s?d.combinedExpanderPrefix+"n"+(a?"l":""):d.combinedExpanderPrefix+(o.expanded?"e":"c")+(o.lazy&&null==o.children?"d":"")+(a?"l":"")),u.push(d.combinedIconPrefix+(o.expanded?"e":"c")+(o.folder?"f":"")),h.className=u.join(" "),o.li&&e(o.li).toggleClass(d.lastsib,a))},nodeSetActive:function(t,n,i){var o,r=t.node,l=t.tree,s=t.options,a=!0===(i=i||{}).noEvents,c=!0===i.noFocus,d=!1!==i.scrollIntoView;return r===l.activeNode==(n=!1!==n)?k(r):n&&!a&&!1===this._triggerNodeEvent("beforeActivate",r,t.originalEvent)?_(r,["rejected"]):(n?(l.activeNode&&(b(l.activeNode!==r,"node was active (inconsistency)"),o=e.extend({},t,{node:l.activeNode}),l.nodeSetActive(o,!1),b(null===l.activeNode,"deactivate was out of sync?")),s.activeVisible&&r.makeVisible({scrollIntoView:d}),l.activeNode=r,l.nodeRenderStatus(t),c||l.nodeSetFocus(t),a||l._triggerNodeEvent("activate",r,t.originalEvent)):(b(l.activeNode===r,"node was not active (inconsistency)"),l.activeNode=null,this.nodeRenderStatus(t),a||t.tree._triggerNodeEvent("deactivate",r,t.originalEvent)),k(r))},nodeSetExpanded:function(t,n,i){var o,r,l,s,a,c,d=t.node,u=t.tree,h=t.options,f=!0===(i=i||{}).noAnimation,p=!0===i.noEvents;if(n=!1!==n,d.expanded&&n||!d.expanded&&!n)return k(d);if(n&&!d.lazy&&!d.hasChildren())return k(d);if(!n&&d.getLevel()<h.minExpandLevel)return _(d,["locked"]);if(!p&&!1===this._triggerNodeEvent("beforeExpand",d,t.originalEvent))return _(d,["rejected"]);if(f||d.isVisible()||(f=i.noAnimation=!0),r=new e.Deferred,n&&!d.expanded&&h.autoCollapse){a=d.getParentList(!1,!0),c=h.autoCollapse;try{for(h.autoCollapse=!1,l=0,s=a.length;l<s;l++)this._callHook("nodeCollapseSiblings",a[l],i)}finally{h.autoCollapse=c}}return r.done(function(){var e=d.getLastChild();n&&h.autoScroll&&!f&&e&&u._enableUpdate?e.scrollIntoView(!0,{topNode:d}).always(function(){p||t.tree._triggerNodeEvent(n?"expand":"collapse",t)}):p||t.tree._triggerNodeEvent(n?"expand":"collapse",t)}),o=function(i){var o=h._classNames,r=h.toggleEffect;if(d.expanded=n,u._callHook("treeStructureChanged",t,n?"expand":"collapse"),u._callHook("nodeRender",t,!1,!1,!0),d.ul)if("none"!==d.ul.style.display==!!d.expanded)d.warn("nodeSetExpanded: UL.style.display already set");else{if(r&&!f)return e(d.li).addClass(o.animating),void(e.isFunction(e(d.ul)[r.effect])?e(d.ul)[r.effect]({duration:r.duration,always:function(){e(this).removeClass(o.animating),e(d.li).removeClass(o.animating),i()}}):(e(d.ul).stop(!0,!0),e(d.ul).parent().find(".ui-effects-placeholder").remove(),e(d.ul).toggle(r.effect,r.options,r.duration,function(){e(this).removeClass(o.animating),e(d.li).removeClass(o.animating),i()})));d.ul.style.display=d.expanded||!parent?"":"none"}i()},n&&d.lazy&&void 0===d.hasChildren()?d.load().done(function(){r.notifyWith&&r.notifyWith(d,["loaded"]),o(function(){r.resolveWith(d)})}).fail(function(e){o(function(){r.rejectWith(d,["load failed ("+e+")"])})}):o(function(){r.resolveWith(d)}),r.promise()},nodeSetFocus:function(t,n){var i,o=t.tree,r=t.node,l=o.options,s=!!t.originalEvent&&e(t.originalEvent.target).is(":input");if(n=!1!==n,o.focusNode){if(o.focusNode===r&&n)return;i=e.extend({},t,{node:o.focusNode}),o.focusNode=null,this._triggerNodeEvent("blur",i),this._callHook("nodeRenderStatus",i)}n&&(this.hasFocus()||(r.debug("nodeSetFocus: forcing container focus"),this._callHook("treeSetFocus",t,!0,{calledByNode:!0})),r.makeVisible({scrollIntoView:!1}),o.focusNode=r,l.titlesTabbable&&(s||e(r.span).find(".fancytree-title").focus()),l.aria&&e(o.$container).attr("aria-activedescendant",e(r.tr||r.li).uniqueId().attr("id")),this._triggerNodeEvent("focus",t),document.activeElement===o.$container.get(0)||e(document.activeElement,o.$container).length>=1||e(o.$container).focus(),l.autoScroll&&r.scrollIntoView(),this._callHook("nodeRenderStatus",t))},nodeSetSelected:function(e,t,n){var o=e.node,r=e.tree,l=e.options,s=!0===(n=n||{}).noEvents,a=o.parent;if(t=!1!==t,!i.evalOption("unselectable",o,o,l,!1)){if(o._lastSelectIntent=t,!!o.selected===t&&(3!==l.selectMode||!o.partsel||t))return t;if(!s&&!1===this._triggerNodeEvent("beforeSelect",o,e.originalEvent))return!!o.selected;t&&1===l.selectMode?(r.lastSelectedNode&&r.lastSelectedNode.setSelected(!1),o.selected=t):3!==l.selectMode||!a||a.radiogroup||o.radiogroup?a&&a.radiogroup?o.visitSiblings(function(e){e._changeSelectStatusAttrs(t&&e===o)},!0):o.selected=t:(o.selected=t,o.fixSelection3AfterClick(n)),this.nodeRenderStatus(e),r.lastSelectedNode=t?o:null,s||r._triggerNodeEvent("select",e)}},nodeSetStatus:function(t,n,i,o){var r=t.node,l=t.tree;function s(n,i){var o=r.children?r.children[0]:null;return o&&o.isStatusNode()?(e.extend(o,n),o.statusNodeType=i,l._callHook("nodeRenderTitle",o)):(r._setChildren([n]),l._callHook("treeStructureChanged",t,"setStatusNode"),r.children[0].statusNodeType=i,l.render()),r.children[0]}switch(n){case"ok":!function(){var e=r.children?r.children[0]:null;if(e&&e.isStatusNode()){try{r.ul&&(r.ul.removeChild(e.li),e.li=null)}catch(n){}1===r.children.length?r.children=[]:r.children.shift(),l._callHook("treeStructureChanged",t,"clearStatusNode")}}(),r._isLoading=!1,r._error=null,r.renderStatus();break;case"loading":r.parent||s({title:l.options.strings.loading+(i?" ("+i+")":""),checkbox:!1,tooltip:o},n),r._isLoading=!0,r._error=null,r.renderStatus();break;case"error":s({title:l.options.strings.loadError+(i?" ("+i+")":""),checkbox:!1,tooltip:o},n),r._isLoading=!1,r._error={message:i,details:o},r.renderStatus();break;case"nodata":s({title:i||l.options.strings.noData,checkbox:!1,tooltip:o},n),r._isLoading=!1,r._error=null,r.renderStatus();break;default:e.error("invalid node status "+n)}},nodeToggleExpanded:function(e){return this.nodeSetExpanded(e,!e.node.expanded)},nodeToggleSelected:function(e){var t=e.node,n=!t.selected;return t.partsel&&!t.selected&&!0===t._lastSelectIntent&&(n=!1,t.selected=!0),t._lastSelectIntent=n,this.nodeSetSelected(e,n)},treeClear:function(e){var t=e.tree;t.activeNode=null,t.focusNode=null,t.$div.find(">ul.fancytree-container").empty(),t.rootNode.children=null,t._callHook("treeStructureChanged",e,"clear")},treeCreate:function(e){},treeDestroy:function(e){this.$div.find(">ul.fancytree-container").remove(),this.$source&&this.$source.removeClass("fancytree-helper-hidden")},treeInit:function(t){var n=t.tree,i=n.options;n.$container.attr("tabindex",i.tabindex),e.each(p,function(e,t){void 0!==i[t]&&(n.info("Move option "+t+" to tree"),n[t]=i[t],delete i[t])}),i.checkboxAutoHide&&n.$container.addClass("fancytree-checkbox-auto-hide"),i.rtl?n.$container.attr("DIR","RTL").addClass("fancytree-rtl"):n.$container.removeAttr("DIR").removeClass("fancytree-rtl"),i.aria&&(n.$container.attr("role","tree"),1!==i.selectMode&&n.$container.attr("aria-multiselectable",!0)),this.treeLoad(t)},treeLoad:function(t,n){var o,r,l,s=t.tree,a=t.widget.element,c=e.extend({},t,{node:this.rootNode});if(s.rootNode.children&&this.treeClear(t),n=n||this.options.source)"string"==typeof n&&e.error("Not implemented");else switch(r=a.data("type")||"html"){case"html":(l=a.find(">ul").not(".fancytree-container").first()).length?(l.addClass("ui-fancytree-source fancytree-helper-hidden"),n=e.ui.fancytree.parseHtml(l),this.data=e.extend(this.data,E(l))):(i.warn("No `source` option was passed and container does not contain `<ul>`: assuming `source: []`."),n=[]);break;case"json":n=e.parseJSON(a.text()),a.contents().filter(function(){return 3===this.nodeType}).remove(),e.isPlainObject(n)&&(b(e.isArray(n.children),"if an object is passed as source, it must contain a 'children' array (all other properties are added to 'tree.data')"),o=n,n=n.children,delete o.children,e.each(p,function(e,t){void 0!==o[t]&&(s[t]=o[t],delete o[t])}),e.extend(s.data,o));break;default:e.error("Invalid data-type: "+r)}return s._triggerTreeEvent("preInit",null),this.nodeLoadChildren(c,n).done(function(){s._callHook("treeStructureChanged",t,"loadChildren"),s.render(),3===t.options.selectMode&&s.rootNode.fixSelection3FromEndNodes(),s.activeNode&&s.options.activeVisible&&s.activeNode.makeVisible(),s._triggerTreeEvent("init",null,{status:!0})}).fail(function(){s.render(),s._triggerTreeEvent("init",null,{status:!1})})},treeRegisterNode:function(e,t,n){e.tree._callHook("treeStructureChanged",e,t?"addNode":"removeNode")},treeSetFocus:function(t,n,i){var o;(n=!1!==n)!==this.hasFocus()&&(this._hasFocus=n,!n&&this.focusNode?this.focusNode.setFocus(!1):!n||i&&i.calledByNode||e(this.$container).focus(),this.$container.toggleClass("fancytree-treefocus",n),this._triggerTreeEvent(n?"focusTree":"blurTree"),n&&!this.activeNode&&(o=this._lastMousedownNode||this.getFirstChild())&&o.setFocus())},treeSetOption:function(t,n,i){var o=t.tree,r=!0,l=!1,s=!1;switch(n){case"aria":case"checkbox":case"icon":case"minExpandLevel":case"tabindex":l=!0,s=!0;break;case"checkboxAutoHide":o.$container.toggleClass("fancytree-checkbox-auto-hide",!!i);break;case"escapeTitles":case"tooltip":s=!0;break;case"rtl":!1===i?o.$container.removeAttr("DIR").removeClass("fancytree-rtl"):o.$container.attr("DIR","RTL").addClass("fancytree-rtl"),s=!0;break;case"source":r=!1,o._callHook("treeLoad",o,i),s=!0}o.debug("set option "+n+"="+i+" <"+typeof i+">"),r&&(this.widget._super?this.widget._super.call(this.widget,n,i):e.Widget.prototype._setOption.call(this.widget,n,i)),l&&o._callHook("treeCreate",o),s&&o.render(!0,!1)},treeStructureChanged:function(e,t){}}),e.widget("ui.fancytree",{options:{activeVisible:!0,ajax:{type:"GET",cache:!1,dataType:"json"},aria:!0,autoActivate:!0,autoCollapse:!1,autoScroll:!1,checkbox:!1,clickFolderMode:4,debugLevel:null,disabled:!1,enableAspx:!0,escapeTitles:!1,extensions:[],toggleEffect:{effect:"slideToggle",duration:200},generateIds:!1,icon:!0,idPrefix:"ft_",focusOnSelect:!1,keyboard:!0,keyPathSeparator:"/",minExpandLevel:1,nodata:!0,quicksearch:!1,rtl:!1,scrollOfs:{top:0,bottom:0},scrollParent:null,selectMode:2,strings:{loading:"Loading...",loadError:"Load error!",moreData:"More...",noData:"No data."},tabindex:"0",titlesTabbable:!1,tooltip:!1,treeId:null,_classNames:{node:"fancytree-node",folder:"fancytree-folder",animating:"fancytree-animating",combinedExpanderPrefix:"fancytree-exp-",combinedIconPrefix:"fancytree-ico-",hasChildren:"fancytree-has-children",active:"fancytree-active",selected:"fancytree-selected",expanded:"fancytree-expanded",lazy:"fancytree-lazy",focused:"fancytree-focused",partload:"fancytree-partload",partsel:"fancytree-partsel",radio:"fancytree-radio",unselectable:"fancytree-unselectable",lastsib:"fancytree-lastsib",loading:"fancytree-loading",error:"fancytree-error",statusNodePrefix:"fancytree-statusnode-"},lazyLoad:null,postProcess:null},_deprecationWarning:function(e){var t=this.tree;t&&t.options.debugLevel>=3&&t.warn("$().fancytree('"+e+"') is deprecated (see https://wwwendt.de/tech/fancytree/doc/jsdoc/Fancytree_Widget.html")},_create:function(){this.tree=new P(this),this.$source=this.source||"json"===this.element.data("type")?this.element:this.element.find(">ul").first();var t,n,i,o=this.options,r=o.extensions;for(i=0;i<r.length;i++)(t=e.ui.fancytree._extensions[n=r[i]])||e.error("Could not apply extension '"+n+"' (it is not registered, did you forget to include it?)"),this.tree.options[n]=w({},t.options,this.tree.options[n]),b(void 0===this.tree.ext[n],"Extension name must not exist as Fancytree.ext attribute: '"+n+"'"),this.tree.ext[n]={},N(this.tree,0,t,n);void 0!==o.icons&&(!0===o.icon?(this.tree.warn("'icons' tree option is deprecated since v2.14.0: use 'icon' instead"),o.icon=o.icons):e.error("'icons' tree option is deprecated since v2.14.0: use 'icon' only instead")),void 0!==o.iconClass&&(o.icon?e.error("'iconClass' tree option is deprecated since v2.14.0: use 'icon' only instead"):(this.tree.warn("'iconClass' tree option is deprecated since v2.14.0: use 'icon' instead"),o.icon=o.iconClass)),void 0!==o.tabbable&&(o.tabindex=o.tabbable?"0":"-1",this.tree.warn("'tabbable' tree option is deprecated since v2.17.0: use 'tabindex='"+o.tabindex+"' instead")),this.tree._callHook("treeCreate",this.tree)},_init:function(){this.tree._callHook("treeInit",this.tree),this._bind()},_setOption:function(e,t){return this.tree._callHook("treeSetOption",this.tree,e,t)},_destroy:function(){this._unbind(),this.tree._callHook("treeDestroy",this.tree)},_unbind:function(){var t=this.tree._ns;this.element.off(t),this.tree.$container.off(t),e(document).off(t)},_bind:function(){var t=this,n=this.options,o=this.tree,r=o._ns;this._unbind(),o.$container.on("focusin"+r+" focusout"+r,function(t){var n=i.getNode(t),r="focusin"===t.type;if(!r&&n&&e(t.target).is("a"))n.debug("Ignored focusout on embedded <a> element.");else{if(r){if(o._getExpiringValue("focusin"))return void o.debug("Ignored double focusin.");o._setExpiringValue("focusin",!0,50),n||(n=o._getExpiringValue("mouseDownNode"))&&o.debug("Reconstruct mouse target for focusin from recent event.")}n?o._callHook("nodeSetFocus",o._makeHookContext(n,t),r):o.tbody&&e(t.target).parents("table.fancytree-container > thead").length?o.debug("Ignore focus event outside table body.",t):o._callHook("treeSetFocus",o,r)}}).on("selectstart"+r,"span.fancytree-title",function(e){e.preventDefault()}).on("keydown"+r,function(e){if(n.disabled||!1===n.keyboard)return!0;var t,i=o.focusNode,r=o._makeHookContext(i||o,e),l=o.phase;try{return o.phase="userEvent","preventNav"===(t=i?o._triggerNodeEvent("keydown",i,e):o._triggerTreeEvent("keydown",e))?t=!0:!1!==t&&(t=o._callHook("nodeKeydown",r)),t}finally{o.phase=l}}).on("mousedown"+r,function(e){var t=i.getEventTarget(e);o._lastMousedownNode=t?t.node:null,o._setExpiringValue("mouseDownNode",o._lastMousedownNode)}).on("click"+r+" dblclick"+r,function(e){if(n.disabled)return!0;var o,r=i.getEventTarget(e),l=r.node,s=t.tree,a=s.phase;if(!l)return!0;o=s._makeHookContext(l,e);try{switch(s.phase="userEvent",e.type){case"click":return o.targetType=r.type,l.isPagingNode()?!0===s._triggerNodeEvent("clickPaging",o,e):!1!==s._triggerNodeEvent("click",o,e)&&s._callHook("nodeClick",o);case"dblclick":return o.targetType=r.type,!1!==s._triggerNodeEvent("dblclick",o,e)&&s._callHook("nodeDblclick",o)}}finally{s.phase=a}})},getActiveNode:function(){return this._deprecationWarning("getActiveNode"),this.tree.activeNode},getNodeByKey:function(e){return this._deprecationWarning("getNodeByKey"),this.tree.getNodeByKey(e)},getRootNode:function(){return this._deprecationWarning("getRootNode"),this.tree.rootNode},getTree:function(){return this._deprecationWarning("getTree"),this.tree}}),i=e.ui.fancytree,e.extend(e.ui.fancytree,{version:"2.34.0",buildType:"production",debugLevel:3,_nextId:1,_nextNodeKey:1,_extensions:{},_FancytreeClass:P,_FancytreeNodeClass:I,jquerySupports:{positionMyOfs:function(t,n,i,o){var r,l,s,a=e.map(e.trim(t).split("."),function(e){return parseInt(e,10)}),c=e.map(Array.prototype.slice.call(arguments,1),function(e){return parseInt(e,10)});for(r=0;r<c.length;r++)if((l=a[r]||0)!==(s=c[r]||0))return l>s;return!0}(e.ui.version,1,9)},assert:function(e,t){return b(e,t)},createTree:function(t,n){var o=e(t).fancytree(n);return i.getTree(o)},debounce:function(e,t,n,i){var o;return 3===arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),function(){var r=arguments;i=i||this,n&&!o&&t.apply(i,r),clearTimeout(o),o=setTimeout(function(){n||t.apply(i,r),o=null},e)}},debug:function(t){e.ui.fancytree.debugLevel>=4&&x("log",arguments)},error:function(t){e.ui.fancytree.debugLevel>=1&&x("error",arguments)},escapeHtml:function(e){return(""+e).replace(r,function(e){return s[e]})},fixPositionOptions:function(t){if((t.offset||(""+t.my+t.at).indexOf("%")>=0)&&e.error("expected new position syntax (but '%' is not supported)"),!e.ui.fancytree.jquerySupports.positionMyOfs){var n=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(t.my),i=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(t.at),o=(n[2]?+n[2]:0)+(i[2]?+i[2]:0),r=(n[4]?+n[4]:0)+(i[4]?+i[4]:0);t=e.extend({},t,{my:n[1]+" "+n[3],at:i[1]+" "+i[3]}),(o||r)&&(t.offset=o+" "+r)}return t},getEventTarget:function(t){var n,o=t&&t.target?t.target.className:"",r={node:this.getNode(t.target),type:void 0};return/\bfancytree-title\b/.test(o)?r.type="title":/\bfancytree-expander\b/.test(o)?r.type=!1===r.node.hasChildren()?"prefix":"expander":/\bfancytree-checkbox\b/.test(o)?r.type="checkbox":/\bfancytree(-custom)?-icon\b/.test(o)?r.type="icon":/\bfancytree-node\b/.test(o)?r.type="title":t&&t.target&&((n=e(t.target)).is("ul[role=group]")?((r.node&&r.node.tree||i).debug("Ignoring click on outer UL."),r.node=null):n.closest(".fancytree-title").length?r.type="title":n.closest(".fancytree-checkbox").length?r.type="checkbox":n.closest(".fancytree-expander").length&&(r.type="expander")),r},getEventTargetType:function(e){return this.getEventTarget(e).type},getNode:function(t){if(t instanceof I)return t;for(t instanceof e?t=t[0]:void 0!==t.originalEvent&&(t=t.target);t;){if(t.ftnode)return t.ftnode;t=t.parentNode}return null},getTree:function(t){var n,i=t;return t instanceof P?t:(void 0===t&&(t=0),"number"==typeof t?t=e(".fancytree-container").eq(t):"string"==typeof t?(t=e("#ft-id-"+i).eq(0)).length||(t=e(i).eq(0)):t instanceof Element||t instanceof HTMLDocument?t=e(t):t instanceof e?t=t.eq(0):void 0!==t.originalEvent&&(t=e(t.target)),(n=(t=t.closest(":ui-fancytree")).data("ui-fancytree")||t.data("fancytree"))?n.tree:null)},evalOption:function(t,n,i,o,r){var l,s=n.tree,a=o[t],c=i[t];return e.isFunction(a)?null==(l=a.call(s,{type:t},{node:n,tree:s,widget:s.widget,options:s.widget.options,typeInfo:s.types[n.type]||{}}))&&(l=c):l=null==c?a:c,null==l&&(l=r),l},setSpanIcon:function(t,n,i){var o=e(t);"string"==typeof i?o.attr("class",n+" "+i):(i.text?o.text(""+i.text):i.html&&(t.innerHTML=i.html),o.attr("class",n+" "+(i.addClass||"")))},eventToString:function(e){var t=e.which,n=e.type,i=[];return e.altKey&&i.push("alt"),e.ctrlKey&&i.push("ctrl"),e.metaKey&&i.push("meta"),e.shiftKey&&i.push("shift"),"click"===n||"dblclick"===n?i.push(u[e.button]+n):"wheel"===n?i.push(n):a[t]||i.push(c[t]||String.fromCharCode(t).toLowerCase()),i.join("+")},info:function(t){e.ui.fancytree.debugLevel>=3&&x("info",arguments)},keyEventToString:function(e){return this.warn("keyEventToString() is deprecated: use eventToString()"),this.eventToString(e)},overrideMethod:function(t,n,i,o){var r,l=t[n]||e.noop;t[n]=function(){var e=o||this;try{return r=e._super,e._super=l,i.apply(e,arguments)}finally{e._super=r}}},parseHtml:function(t){var n,i,o,r,l,s,a,c,d=t.find(">li"),u=[];return d.each(function(){var d,p,v=e(this),y=v.find(">span",this).first(),b=y.length?null:v.find(">a").first(),x={tooltip:null,data:{}};for(y.length?x.title=y.html():b&&b.length?(x.title=b.html(),x.data.href=b.attr("href"),x.data.target=b.attr("target"),x.tooltip=b.attr("title")):(x.title=v.html(),(l=x.title.search(/<ul/i))>=0&&(x.title=x.title.substring(0,l))),x.title=e.trim(x.title),r=0,s=h.length;r<s;r++)x[h[r]]=void 0;for(n=this.className.split(" "),o=[],r=0,s=n.length;r<s;r++)f[i=n[r]]?x[i]=!0:o.push(i);if(x.extraClasses=o.join(" "),(a=v.attr("title"))&&(x.tooltip=a),(a=v.attr("id"))&&(x.key=a),v.attr("hideCheckbox")&&(x.checkbox=!1),(d=E(v))&&!e.isEmptyObject(d)){for(p in m)d.hasOwnProperty(p)&&(d[m[p]]=d[p],delete d[p]);for(r=0,s=g.length;r<s;r++)null!=(c=d[a=g[r]])&&(delete d[a],x[a]=c);e.extend(x.data,d)}t=v.find(">ul").first(),x.children=t.length?e.ui.fancytree.parseHtml(t):x.lazy?void 0:null,u.push(x)}),u},registerExtension:function(t){b(null!=t.name,"extensions must have a `name` property."),b(null!=t.version,"extensions must have a `version` property."),e.ui.fancytree._extensions[t.name]=t},unescapeHtml:function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue},warn:function(t){e.ui.fancytree.debugLevel>=2&&x("warn",arguments)}}),e.ui.fancytree}function b(t,n){t||e.error("Fancytree assertion failed"+(n=n?": "+n:""))}function x(e,t){var n,i,o=window.console?window.console[e]:null;if(o)try{o.apply(window.console,t)}catch(r){for(i="",n=0;n<t.length;n++)i+=t[n];o(i)}}function w(){var t,n,i,o,r,l=arguments[0]||{},s=1,a=arguments.length;if("object"==typeof l||e.isFunction(l)||(l={}),s===a)throw Error("need at least two args");for(;s<a;s++)if(null!=(t=arguments[s]))for(n in t)if(t.hasOwnProperty(n)){if(i=l[n],l===(o=t[n]))continue;o&&e.isPlainObject(o)?(r=i&&e.isPlainObject(i)?i:{},l[n]=w(r,o)):void 0!==o&&(l[n]=o)}return l}function C(e,t,n,i,o){var r,l,s,a,c;return r=t[e],l=i[e],s=t.ext[o],a=function(){return r.apply(t,arguments)},c=function(e){return r.apply(t,e)},function(){var e=t._local,n=t._super,i=t._superApply;try{return t._local=s,t._super=a,t._superApply=c,l.apply(t,arguments)}finally{t._local=e,t._super=n,t._superApply=i}}}function N(t,n,i,o){for(var r in i)"function"==typeof i[r]?"function"==typeof t[r]?t[r]=C(r,t,0,i,o):"_"===r.charAt(0)?t.ext[o][r]=C(r,t,0,i,o):e.error("Could not override tree."+r+". Use prefix '_' to create tree."+o+"._"+r):"options"!==r&&(t.ext[o][r]=i[r])}function k(t,n){return void 0===t?e.Deferred(function(){this.resolve()}).promise():e.Deferred(function(){this.resolveWith(t,n)}).promise()}function _(t,n){return void 0===t?e.Deferred(function(){this.reject()}).promise():e.Deferred(function(){this.rejectWith(t,n)}).promise()}function S(e,t){return function(){e.resolveWith(t)}}function E(t){var n=e.extend({},t.data()),i=n.json;return delete n.fancytree,delete n.uiFancytree,i&&(delete n.json,n=e.extend(n,i)),n}function T(e){return(""+e).replace(l,function(e){return s[e]})}function D(e){return e=e.toLowerCase(),function(t){return t.title.toLowerCase().indexOf(e)>=0}}function I(t,n){var o,r,l,s;for(this.parent=t,this.tree=t.tree,this.ul=null,this.li=null,this.statusNodeType=null,this._isLoading=!1,this._error=null,this.data={},o=0,r=g.length;o<r;o++)this[l=g[o]]=n[l];for(l in null==this.unselectableIgnore&&null==this.unselectableStatus||(this.unselectable=!0),n.hideCheckbox&&e.error("'hideCheckbox' node option was removed in v2.23.0: use 'checkbox: false'"),n.data&&e.extend(this.data,n.data),n)v[l]||e.isFunction(n[l])||y[l]||(this.data[l]=n[l]);null==this.key?this.tree.options.defaultKey?(this.key=this.tree.options.defaultKey(this),b(this.key,"defaultKey() must return a unique key")):this.key="_"+i._nextNodeKey++:this.key=""+this.key,n.active&&(b(null===this.tree.activeNode,"only one active node allowed"),this.tree.activeNode=this),n.selected&&(this.tree.lastSelectedNode=this),(s=n.children)?s.length?this._setChildren(s):this.children=this.lazy?[]:null:this.children=null,this.tree._callHook("treeRegisterNode",this.tree,!0,this)}function P(t){var n;this.widget=t,this.$div=t.element,this.options=t.options,this.options&&(void 0!==this.options.lazyload&&e.error("The 'lazyload' event is deprecated since 2014-02-25. Use 'lazyLoad' (with uppercase L) instead."),void 0!==this.options.loaderror&&e.error("The 'loaderror' event was renamed since 2014-07-03. Use 'loadError' (with uppercase E) instead."),void 0!==this.options.fx&&e.error("The 'fx' option was replaced by 'toggleEffect' since 2014-11-30."),void 0!==this.options.removeNode&&e.error("The 'removeNode' event was replaced by 'modifyChild' since 2.20 (2016-09-10).")),this.ext={},this.types={},this.columns={},this.data=E(this.$div),this._id=""+(this.options.treeId||e.ui.fancytree._nextId++),this._ns=".fancytree-"+this._id,this.activeNode=null,this.focusNode=null,this._hasFocus=null,this._tempCache={},this._lastMousedownNode=null,this._enableUpdate=!0,this.lastSelectedNode=null,this.systemFocusElement=null,this.lastQuicksearchTerm="",this.lastQuicksearchTime=0,this.viewport=null,this.statusClassPropName="span",this.ariaPropName="li",this.nodeContainerAttrName="li",this.$div.find(">ul.fancytree-container").remove(),this.rootNode=new I({tree:this},{title:"root",key:"root_"+this._id,children:null,expanded:!0}),this.rootNode.parent=null,n=e("<ul>",{id:"ft-id-"+this._id,class:"ui-fancytree fancytree-container fancytree-plain"}).appendTo(this.$div),this.$container=n,this.rootNode.ul=n[0],null==this.options.debugLevel&&(this.options.debugLevel=i.debugLevel)}e.ui.fancytree.warn("Fancytree: ignored duplicate include")})?i.apply(t,o):i)||(e.exports=r)},puLZ:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s});var i=n("LoAr"),o=n("WT9V"),r=(n("PKtt"),i["\u0275crt"]({encapsulation:0,styles:[".read-only[_nghost-%COMP%]   .icon[_ngcontent-%COMP%] {\n    cursor: auto\n}"],data:{}}));function l(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"i",[["class","icon"]],[[2,"selected",null],[2,"active",null]],[[null,"mouseover"],[null,"click"]],function(e,t,n){var i=!0,o=e.component;return"mouseover"===t&&(i=!1!==o.onMouseover(e.context.index)&&i),"click"===t&&(i=!1!==o.onClick(e.context.index)&&i),i},null,null))],null,function(e,t){var n=t.component;e(t,0,0,n.hoveredIndex>=t.context.index&&!n.isReadonly,n.value>t.context.index)})}function s(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,l)),i["\u0275did"](1,278528,null,0,o.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,1,0,t.component.icons)},null)}}}]);