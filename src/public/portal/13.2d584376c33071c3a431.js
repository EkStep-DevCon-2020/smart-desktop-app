(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"x+8t":function(e,t,n){"use strict";n.r(t);var l=n("LoAr"),a=function(){return function(){}}(),o=n("C9Ky"),i=n("8K93"),r=n("VaWR"),u=n("981U"),c=n("nJQC"),s=n("82lB"),d=n("MnH2"),p=n("Wl2R"),m=n("WT9V"),f=n("mhnT"),y=n("fQLH"),v=(n("snx/"),n("mB4F"),n("a4sr"),n("dOPi")),h=n("hqLi"),b=n("r6MD"),g=n("76kM"),I=function(){function e(e,t,n,a,o,i,r,u,c,s){this.resourceService=e,this.utilService=t,this.router=n,this.contentManagerService=a,this.toasterService=o,this.playerService=i,this.activatedRoute=r,this.offlineCardService=u,this.connectionService=c,this.configService=s,this.clickEvent=new l.EventEmitter,this.unsubscribe$=new y.a,this.showModal=!1,this.isConnected=navigator.onLine,this.showUpdateModal=!1,this.isUpdated=!1,this.showUpdate=!1,this.showUpdated=!1}return e.prototype.ngOnInit=function(){var e=this;this.currentRoute=v.a(this.router.url,"browse")?"browse":"library",this.setTelemetryData(),this.contentManagerService.downloadListEvent.pipe(Object(f.a)(this.unsubscribe$)).subscribe(function(t){e.checkDownloadStatus(t)}),h.a(this.collectionId)||this.checkContentIsUpdated(this.contentData),this.checkOnlineStatus(),this.checkForUpdate(this.contentData)},e.prototype.setTelemetryData=function(){this.telemetryInteractObject={id:this.contentData.identifier,type:this.contentData.contentType,ver:this.contentData.pkgVersion||"1.0"},this.downloadContentInteractEdata={id:"application/vnd.ekstep.content-collection"!==this.contentData.mimeType?"download-content":"download-collection",type:"click",pageid:this.activatedRoute.snapshot.data.telemetry.pageid},this.cancelDownloadYoutubeContentEdata={id:"cancel-download-content",type:"click",pageid:this.activatedRoute.snapshot.data.telemetry.pageid},this.updateContentInteractEdata={id:"update-content",type:"click",pageid:this.activatedRoute.snapshot.data.telemetry.pageid}},e.prototype.startDownload=function(e){var t=this;this.showUpdate=!1,this.contentManagerService.downloadContentId=e.identifier,this.contentManagerService.startDownload({}).subscribe(function(n){t.contentManagerService.downloadContentId="",e.downloadStatus=t.resourceService.messages.stmsg.m0140},function(n){t.contentManagerService.downloadContentId="",e.downloadStatus=t.resourceService.messages.stmsg.m0138,t.toasterService.error(t.resourceService.messages.fmsg.m0090)})},e.prototype.checkStatus=function(e){return this.utilService.getPlayerDownloadStatus(e,this.contentData,this.currentRoute)},e.prototype.checkDownloadStatus=function(e){this.contentData=this.playerService.updateDownloadStatus(e,this.contentData),this.contentData.downloadStatus===this.resourceService.messages.stmsg.m0139&&this.showUpdate&&this.toasterService.success("Update Successful")},e.prototype.download=function(e){this.showModal=this.offlineCardService.isYoutubeContent(e),this.showModal?this.message="application/vnd.ekstep.content-collection"!==e.mimeType?this.resourceService.messages.stmsg.m0141:this.resourceService.messages.stmsg.m0137:this.startDownload(e)},e.prototype.checkUpdateStatus=function(e){return this.utilService.getPlayerUpdateStatus(e,this.contentData,this.currentRoute,this.showUpdate)},e.prototype.assignLabel=function(){this.updateLabel="application/vnd.ekstep.content-collection"!==this.contentData.mimeType?this.resourceService.frmelmnts.lbl.updatecontent:this.resourceService.frmelmnts.lbl.updatecollection},e.prototype.checkOnlineStatus=function(){var e=this;this.connectionService.monitor().subscribe(function(t){e.isConnected=t,e.isConnected||e.checkForUpdate(e.contentData)})},e.prototype.checkForUpdate=function(e){this.showUpdate=b.a(e,"desktopAppMetadata.updateAvailable")&&"library"===this.currentRoute,this.assignLabel()},e.prototype.updateContent=function(e){var t=this;this.contentManagerService.updateContent({contentId:e.identifier,parentId:this.collectionId}).pipe(Object(f.a)(this.unsubscribe$)).subscribe(function(n){e.downloadStatus=t.resourceService.messages.stmsg.m0140},function(n){var l=t.isConnected?t.resourceService.messages.fmsg.m0096:g.a(t.resourceService.messages.smsg.m0056,"{contentName}",e.name);t.toasterService.error(l)})},e.prototype.checkContentIsUpdated=function(e){var t=this;this.playerService.getContent(e.identifier,{params:this.configService.appConfig.PublicPlayer.contentApiQueryParams}).pipe(Object(f.a)(this.unsubscribe$)).subscribe(function(e){t.contentData=b.a(e,"result.content"),t.checkForUpdate(t.contentData)},function(e){console.log("Error: "+e)})},e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},e}(),C=n("RyZl"),w=n("RKDm"),S=n("jEVy"),D=n("qp9R"),T=n("DALE"),R=n("jA7u"),k=n("VlHt"),P=n("Sa/2"),O=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function E(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"button",[["appTelemetryInteract",""],["class","sb-btn sb-btn-outline-primary sb-btn-normal"]],[[8,"id",0]],[[null,"click"]],function(e,t,n){var a=!0,o=e.component;return"click"===t&&(a=!1!==l["\u0275nov"](e,1).onClick(n)&&a),"click"===t&&(a=!1!==o.download(o.contentData)&&a),a},null,null)),l["\u0275did"](1,16384,null,0,i.a,[r.a,u.a,u.m],{telemetryInteractObject:[0,"telemetryInteractObject"],telemetryInteractEdata:[1,"telemetryInteractEdata"],telemetryInteractCdata:[2,"telemetryInteractCdata"]},null),l["\u0275pod"](2,{id:0,type:1}),l["\u0275pad"](3,1),(e()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","download icon"]],null,null,null,null,null)),(e()(),l["\u0275ted"](5,null,["\n","\n"]))],function(e,t){var n=t.component,l=n.telemetryInteractObject,a=n.downloadContentInteractEdata,o=e(t,3,0,e(t,2,0,n.contentData.identifier,n.contentData.contentType));e(t,1,0,l,a,o)},function(e,t){var n=t.component;e(t,0,0,l["\u0275inlineInterpolate"](1,"download_",n.contentData.identifier,"")),e(t,5,0,null==n.resourceService.frmelmnts?null:null==n.resourceService.frmelmnts.btn?null:n.resourceService.frmelmnts.btn.addToLibrary)})}function j(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","sb-btn sb-btn-normal sb-btn-link-primary cursor-default disable"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["\n",""]))],null,function(e,t){var n=t.component;e(t,1,0,null==n.resourceService.frmelmnts?null:null==n.resourceService.frmelmnts.btn?null:n.resourceService.frmelmnts.btn.addingToLibrary)})}function M(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","sb-btn sb-btn-normal sb-btn-link-primary cursor-default disable"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["\n","\n"]))],null,function(e,t){var n=t.component;e(t,1,0,null==n.resourceService.frmelmnts?null:null==n.resourceService.frmelmnts.btn?null:n.resourceService.frmelmnts.btn.addedToLibrary)})}function N(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","sb-btn sb-btn-normal sb-btn-link-primary cursor-default disable"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" ","\n"]))],null,function(e,t){var n=t.component;e(t,1,0,null==n.resourceService.frmelmnts?null:null==n.resourceService.frmelmnts.lbl?null:n.resourceService.frmelmnts.lbl.downloadingPaused)})}function x(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"button",[["appTelemetryInteract",""],["class","sb-btn sb-btn-normal sb-btn-outline-primary"]],null,[[null,"click"]],function(e,t,n){var a=!0,o=e.component;return"click"===t&&(a=!1!==l["\u0275nov"](e,1).onClick(n)&&a),"click"===t&&(a=!1!==o.updateContent(o.contentData)&&a),a},null,null)),l["\u0275did"](1,16384,null,0,i.a,[r.a,u.a,u.m],{telemetryInteractObject:[0,"telemetryInteractObject"],telemetryInteractEdata:[1,"telemetryInteractEdata"],telemetryInteractCdata:[2,"telemetryInteractCdata"]},null),l["\u0275pod"](2,{id:0,type:1}),l["\u0275pad"](3,1),(e()(),l["\u0275ted"](4,null,["\n","\n"]))],function(e,t){var n=t.component,l=n.telemetryInteractObject,a=n.updateContentInteractEdata,o=e(t,3,0,e(t,2,0,n.contentData.identifier,n.contentData.contentType));e(t,1,0,l,a,o)},function(e,t){e(t,4,0,t.component.updateLabel)})}function U(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","sb-btn sb-btn-normal sb-btn-link-primary cursor-default disable"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["\n","\n"]))],null,function(e,t){var n=t.component;e(t,1,0,null==n.resourceService.messages?null:null==n.resourceService.messages.smsg?null:n.resourceService.messages.smsg.m0055)})}function A(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,17,"sui-modal",[["appBodyScroll",""],["class","sb-modal"]],null,[[null,"dismissed"],["document","keyup"],["window","resize"]],function(e,t,n){var a=!0,o=e.component;return"document:keyup"===t&&(a=!1!==l["\u0275nov"](e,1).onDocumentKeyUp(n)&&a),"window:resize"===t&&(a=!1!==l["\u0275nov"](e,1).onDocumentResize()&&a),"dismissed"===t&&(a=0!=(o.showModal=!o.showModal)&&a),a},c.c,c.a)),l["\u0275did"](1,4308992,[["modal",4]],0,s.a,[l.Renderer2,l.ElementRef,d.a],{isClosable:[0,"isClosable"],size:[1,"size"],mustScroll:[2,"mustScroll"],transitionDuration:[3,"transitionDuration"]},{onDismiss:"dismissed"}),l["\u0275did"](2,4341760,null,0,p.a,[],null,null),(e()(),l["\u0275eld"](3,0,null,0,1,"div",[["class","sb-modal-header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](4,null,[" ","\n"])),(e()(),l["\u0275eld"](5,0,null,0,1,"div",[["class","sb-modal-content"]],null,null,null,null,null)),(e()(),l["\u0275ted"](6,null,[" ","\n"])),(e()(),l["\u0275eld"](7,0,null,0,10,"div",[["class","sb-modal-actions"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,4,"button",[["appTelemetryInteract",""],["class","sb-btn sb-btn-normal sb-btn-primary"]],null,[[null,"click"]],function(e,t,n){var a=!0,o=e.component;return"click"===t&&(a=!1!==l["\u0275nov"](e,9).onClick(n)&&a),"click"===t&&(o.startDownload(o.contentData),a=0!=(o.showModal=!o.showModal)&&a),a},null,null)),l["\u0275did"](9,16384,null,0,i.a,[r.a,u.a,u.m],{telemetryInteractObject:[0,"telemetryInteractObject"],telemetryInteractEdata:[1,"telemetryInteractEdata"],telemetryInteractCdata:[2,"telemetryInteractCdata"]},null),l["\u0275pod"](10,{id:0,type:1}),l["\u0275pad"](11,1),(e()(),l["\u0275ted"](12,null,[" "," "])),(e()(),l["\u0275eld"](13,0,null,null,4,"button",[["appTelemetryInteract",""],["class","sb-btn sb-btn-normal sb-btn-outline-primary"]],null,[[null,"click"]],function(e,t,n){var a=!0,o=e.component;return"click"===t&&(a=!1!==l["\u0275nov"](e,14).onClick(n)&&a),"click"===t&&(a=0!=(o.showModal=!o.showModal)&&a),a},null,null)),l["\u0275did"](14,16384,null,0,i.a,[r.a,u.a,u.m],{telemetryInteractObject:[0,"telemetryInteractObject"],telemetryInteractEdata:[1,"telemetryInteractEdata"],telemetryInteractCdata:[2,"telemetryInteractCdata"]},null),l["\u0275pod"](15,{id:0,type:1}),l["\u0275pad"](16,1),(e()(),l["\u0275ted"](17,null,[" "," "]))],function(e,t){var n=t.component;e(t,1,0,!0,"normal",!0,0);var l=n.telemetryInteractObject,a=n.downloadContentInteractEdata,o=e(t,11,0,e(t,10,0,n.contentData.identifier,n.contentData.contentType));e(t,9,0,l,a,o);var i=n.telemetryInteractObject,r=n.cancelDownloadYoutubeContentEdata,u=e(t,16,0,e(t,15,0,n.contentData.identifier,n.contentData.contentType));e(t,14,0,i,r,u)},function(e,t){var n=t.component;e(t,4,0,null==n.resourceService.frmelmnts?null:null==n.resourceService.frmelmnts.btn?null:n.resourceService.frmelmnts.btn.download),e(t,6,0,n.message),e(t,12,0,null==n.resourceService.frmelmnts?null:null==n.resourceService.frmelmnts.btn?null:n.resourceService.frmelmnts.btn.download),e(t,17,0,null==n.resourceService.frmelmnts?null:null==n.resourceService.frmelmnts.btn?null:n.resourceService.frmelmnts.btn.cancel)})}function L(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,E)),l["\u0275did"](1,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,j)),l["\u0275did"](3,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,M)),l["\u0275did"](5,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,N)),l["\u0275did"](7,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,x)),l["\u0275did"](9,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,U)),l["\u0275did"](11,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,A)),l["\u0275did"](13,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.checkStatus("DOWNLOAD")),e(t,3,0,n.checkStatus("DOWNLOADING")),e(t,5,0,n.checkStatus("DOWNLOADED")),e(t,7,0,n.checkStatus("PAUSED")),e(t,9,0,n.checkUpdateStatus("UPDATE")),e(t,11,0,n.checkUpdateStatus("DOWNLOADING")),e(t,13,0,n.showModal)},null)}var F=n("X1yH"),V=n("EgCm"),_=n("rEyf"),q=n("bnmb"),H=n("jHnh"),W=n("0yNp"),B=n("UTtn"),z=n("vqb/"),K=n("U/KJ"),$=(n("QzX3"),n("iN1S"),n("AytR")),Q=function(){function e(e,t,n,l,a,o,i,r,u,c,s,d){this.activatedRoute=e,this.userService=t,this.resourceService=n,this.toasterService=l,this.windowScrollService=a,this.playerService=o,this.navigationHelperService=i,this.router=r,this.deviceDetectorService=u,this.configService=c,this.contentManagerService=s,this.utilService=d,this.showPlayer=!1,this.showError=!1,this.showExtContentMsg=!1,this.showFooter=!1,this.unsubscribe$=new y.a,this.objectRollup={},this.isOffline=$.a.isOffline,this.playerOption={showContentRating:!0}}return e.prototype.ngOnInit=function(){var e=this;this.contentType=b.a(this.activatedRoute,"snapshot.queryParams.contentType"),this.activatedRoute.params.subscribe(function(t){e.contentId=t.contentId,e.dialCode=b.a(e.activatedRoute,"snapshot.queryParams.dialCode"),b.a(e.activatedRoute,"snapshot.queryParams.l1Parent")&&(e.objectRollup={l1:b.a(e.activatedRoute,"snapshot.queryParams.l1Parent")}),e.setTelemetryData(),e.getContent(),e.deviceDetector()})},e.prototype.setTelemetryData=function(){this.telemetryInteractObject={id:this.contentId,type:this.contentType,ver:"1.0"},this.closePlayerInteractEdata={id:"close-player",type:"click",pageid:"public"},this.printPdfInteractEdata={id:"print-pdf-button",type:"click",pageid:"public"}},e.prototype.getContent=function(){var e=this,t={dialCode:this.dialCode};this.playerService.getContent(this.contentId,{params:this.configService.appConfig.PublicPlayer.contentApiQueryParams}).pipe(Object(f.a)(this.unsubscribe$)).subscribe(function(n){e.playerConfig=e.playerService.getConfig({contentId:e.contentId,contentData:n.result.content},t),e.playerConfig.context.objectRollup=e.objectRollup,e.contentData=n.result.content,e.contentData.mimeType===e.configService.appConfig.PLAYER_CONFIG.MIME_TYPE.xUrl&&setTimeout(function(){e.showExtContentMsg=!0},5e3),e.showPlayer=!0,e.windowScrollService.smoothScroll("content-player"),e.badgeData=b.a(n,"result.content.badgeAssertions")},function(t){e.showError=!0,e.errorMessage=e.resourceService.messages.stmsg.m0009})},e.prototype.tryAgain=function(){this.showError=!1,this.getContent()},e.prototype.close=function(){var e=this;try{window.frames.contentPlayer.contentDocument.body.onunload({})}catch(t){}finally{setTimeout(function(){if(e.dialCode){sessionStorage.setItem("singleContentRedirect","singleContentRedirect");var t={queryParams:{textbook:b.a(e.activatedRoute,"snapshot.queryParams.l1Parent")}};e.router.navigate(["/get/dial/",e.dialCode],t)}else e.navigationHelperService.navigateToResource(e.isOffline?"":"/explore")},100)}},e.prototype.deviceDetector=function(){var e=this.deviceDetectorService.getDeviceInfo();"android"!==e.device&&"android"!==e.os||(this.showFooter=!0)},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e.dialCode&&(e.telemetryCdata=[{type:"DialCode",id:e.dialCode}]),e.telemetryImpression={context:{env:e.activatedRoute.snapshot.data.telemetry.env,cdata:e.telemetryCdata},object:{id:e.activatedRoute.snapshot.params.contentId,type:e.contentType,ver:"1.0",rollup:e.objectRollup},edata:{type:e.activatedRoute.snapshot.data.telemetry.type,pageid:e.activatedRoute.snapshot.data.telemetry.pageid,uri:e.router.url,subtype:e.activatedRoute.snapshot.data.telemetry.subtype,duration:e.navigationHelperService.getPageLoadTime()}}})},e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},e.prototype.printPdf=function(e){window.open(e,"_blank")},e}(),X=n("ZrRP"),Y=n("4OXy"),J=n("wp3M"),G=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Z(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"h1",[["class","sb-pageSection-title m-0 mr-8"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.component.contentData.name)})}function ee(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"span",[["class","d-inline-block"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,4,"a",[["appTelemetryInteract",""],["class","cursor-pointer btn-bg p-8 d-flex font-weight-bold"]],null,[[null,"click"]],function(e,t,n){var a=!0,o=e.component;return"click"===t&&(a=!1!==l["\u0275nov"](e,2).onClick(n)&&a),"click"===t&&(a=!1!==o.printPdf(o.contentData.itemSetPreviewUrl)&&a),a},null,null)),l["\u0275did"](2,16384,null,0,i.a,[r.a,u.a,u.m],{telemetryInteractObject:[0,"telemetryInteractObject"],telemetryInteractEdata:[1,"telemetryInteractEdata"]},null),(e()(),l["\u0275eld"](3,0,null,null,0,"img",[["src","assets/images/print.svg"],["width","16"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](5,null,["\xa0\xa0",""]))],function(e,t){var n=t.component;e(t,2,0,n.telemetryInteractObject,n.printPdfInteractEdata)},function(e,t){e(t,5,0,t.component.resourceService.frmelmnts.btn.print)})}function te(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","mr-16"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"app-content-download",[],null,null,null,L,O)),l["\u0275did"](2,245760,null,0,I,[C.a,w.a,u.m,S.a,D.a,T.a,u.a,R.a,k.a,P.a],{contentData:[0,"contentData"]},null)],function(e,t){e(t,2,0,t.component.contentData)},null)}function ne(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-content-badge",[],null,null,null,F.b,F.a)),l["\u0275did"](1,245760,null,0,V.a,[_.a],{data:[0,"data"]},null)],function(e,t){e(t,1,0,t.component.badgeData)},null)}function le(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","ui warning message"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.component.resourceService.messages.imsg.m0036)})}function ae(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,25,"div",[["class","ui stackable grid"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,24,"div",[["class","twelve wide column"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,12,"div",[["class","sb-pageSection"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,11,"div",[["class","sb-pageSection-header"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Z)),l["\u0275did"](5,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ee)),l["\u0275did"](7,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](8,0,null,null,6,"div",[["class","ml-auto d-flex flex-ai-center"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,te)),l["\u0275did"](10,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](11,0,null,null,3,"button",[["appTelemetryInteract",""],["class","sb-btn sb-btn-normal sb-btn-error"]],null,[[null,"click"]],function(e,t,n){var a=!0,o=e.component;return"click"===t&&(a=!1!==l["\u0275nov"](e,12).onClick(n)&&a),"click"===t&&(a=!1!==o.close()&&a),a},null,null)),l["\u0275did"](12,16384,null,0,i.a,[r.a,u.a,u.m],{telemetryInteractObject:[0,"telemetryInteractObject"],telemetryInteractEdata:[1,"telemetryInteractEdata"],telemetryInteractCdata:[2,"telemetryInteractCdata"]},null),(e()(),l["\u0275ted"](13,null,[" "," "])),(e()(),l["\u0275eld"](14,0,null,null,0,"i",[["class","ui remove icon"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,ne)),l["\u0275did"](16,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,le)),l["\u0275did"](18,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](19,0,null,null,1,"app-player",[["class","content-player"]],null,null,null,q.b,q.a)),l["\u0275did"](20,4767744,null,0,H.a,[P.a,u.m,D.a,C.a,W.a],{playerConfig:[0,"playerConfig"],playerOption:[1,"playerOption"]},null),(e()(),l["\u0275eld"](21,0,null,null,4,"div",[["class","ui stackable grid"]],null,null,null,null,null)),(e()(),l["\u0275eld"](22,0,null,null,2,"div",[["class","eight wide column"]],null,null,null,null,null)),(e()(),l["\u0275eld"](23,0,null,null,1,"app-content-player-metadata",[],null,null,null,B.b,B.a)),l["\u0275did"](24,114688,null,0,z.a,[C.a],{contentData:[0,"contentData"]},null),(e()(),l["\u0275eld"](25,0,null,null,0,"div",[["class","four wide column"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,5,0,n.contentData.name),e(t,7,0,n.contentData.itemSetPreviewUrl),e(t,10,0,n.isOffline),e(t,12,0,n.telemetryInteractObject,n.closePlayerInteractEdata,n.telemetryCdata),e(t,16,0,n.showPlayer),e(t,18,0,n.showExtContentMsg),e(t,20,0,n.playerConfig,n.playerOption),e(t,24,0,n.contentData)},function(e,t){e(t,13,0,t.component.resourceService.frmelmnts.btn.close)})}function oe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,12,"sui-modal",[["appBodyScroll",""],["class","sb-modal sb-error"]],null,[[null,"dismissed"],["document","keyup"],["window","resize"]],function(e,t,n){var a=!0,o=e.component;return"document:keyup"===t&&(a=!1!==l["\u0275nov"](e,2).onDocumentKeyUp(n)&&a),"window:resize"===t&&(a=!1!==l["\u0275nov"](e,2).onDocumentResize()&&a),"dismissed"===t&&(a=!1!==o.close()&&a),a},c.c,c.a)),l["\u0275did"](1,4341760,null,0,p.a,[],null,null),l["\u0275did"](2,4308992,[["modal",4]],0,s.a,[l.Renderer2,l.ElementRef,d.a],{isClosable:[0,"isClosable"],size:[1,"size"],transitionDuration:[2,"transitionDuration"]},{onDismiss:"dismissed"}),(e()(),l["\u0275eld"](3,0,null,0,1,"div",[["class","sb-modal-header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](4,null,[" "," "])),(e()(),l["\u0275eld"](5,0,null,0,2,"div",[["class","sb-modal-content"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l["\u0275ted"](7,null,["",""])),(e()(),l["\u0275eld"](8,0,null,0,4,"div",[["class","sb-modal-actions"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,1,"button",[["class","sb-btn sb-btn-normal sb-btn-error"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.tryAgain()&&l),l},null,null)),(e()(),l["\u0275ted"](10,null,["",""])),(e()(),l["\u0275eld"](11,0,null,null,1,"button",[["class","sb-btn sb-btn-normal sb-btn-outline-error"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.close()&&l),l},null,null)),(e()(),l["\u0275ted"](12,null,["",""]))],function(e,t){e(t,2,0,!0,"small",0)},function(e,t){var n=t.component;e(t,4,0,n.errorMessage),e(t,7,0,n.errorMessage),e(t,10,0,n.resourceService.frmelmnts.btn.tryagain),e(t,12,0,n.resourceService.frmelmnts.btn.close)})}function ie(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","ui container mt-24"],["id","content-player"]],null,null,null,null,null)),l["\u0275did"](1,737280,null,0,K.a,[r.a],{appTelemetryImpression:[0,"appTelemetryImpression"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ae)),l["\u0275did"](3,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,oe)),l["\u0275did"](5,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.telemetryImpression),e(t,3,0,n.showPlayer&&n.contentData),e(t,5,0,n.showError)},null)}function re(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-public-content-player",[],null,null,null,ie,G)),l["\u0275did"](1,4440064,null,0,Q,[u.a,X.a,C.a,D.a,Y.a,T.a,W.a,u.m,J.b,P.a,S.a,w.a],null,null)],function(e,t){e(t,1,0)},null)}var ue=l["\u0275ccf"]("app-public-content-player",Q,re,{},{},[]),ce=n("gINX"),se=n("8A4u"),de=n("Ie3Q"),pe=n("B976"),me=n("xlQ4"),fe=n("CrFm"),ye=n("w2ym"),ve=n("bWim"),he=n("0xB3"),be=n("XDcf"),ge=n("8blC"),Ie=n("Jg5f"),Ce=n("IMYO"),we=n("4HYP"),Se=n("48GI"),De=n("DCIk"),Te=n("/4Ug"),Re=function(){return(Re=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ke=function(){function e(e,t,n,l,a,o,i,r,u,c,s,d,p,m,f){this.navigationHelperService=o,this.resourceService=i,this.activatedRoute=r,this.deviceDetectorService=u,this.externalUrlPreviewService=c,this.configService=s,this.toasterService=d,this.contentUtilsService=p,this.contentManagerService=m,this.utilService=f,this.showPlayer=!1,this.loader=!0,this.contentDetails=[],this.showFooter=!1,this.loaderMessage={headerMessage:"Please wait...",loaderMessage:"Fetching content details!"},this.isOffline=$.a.isOffline,this.unsubscribe$=new y.a,this.contentService=e,this.route=t,this.playerService=n,this.windowScrollService=l,this.router=a,this.router.onSameUrlNavigation="ignore",this.collectionTreeOptions=this.configService.appConfig.collectionTreeOptions,this.playerOption={showContentRating:!0}}return e.prototype.ngOnInit=function(){this.contentType=b.a(this.activatedRoute,"snapshot.queryParams.contentType"),this.dialCode=b.a(this.activatedRoute,"snapshot.queryParams.dialCode"),this.getContent(),this.deviceDetector(),this.setTelemetryData()},e.prototype.setTelemetryData=function(){this.dialCode&&(this.telemetryCdata=[{type:"DialCode",id:this.dialCode}]),this.closeCollectionPlayerInteractEdata={id:"close-collection",type:"click",pageid:this.route.snapshot.data.telemetry.pageid},this.closePlayerInteractEdata={id:"close-player",type:"click",pageid:this.route.snapshot.data.telemetry.pageid},this.telemetryInteractObject={id:this.activatedRoute.snapshot.params.collectionId,type:this.contentType,ver:"1.0"},this.playerTelemetryInteractObject=Re({},this.telemetryInteractObject)},e.prototype.ngAfterViewInit=function(){var e=this;this.pageLoadDuration=this.navigationHelperService.getPageLoadTime(),setTimeout(function(){e.telemetryImpression={context:{env:e.route.snapshot.data.telemetry.env,cdata:[{id:e.activatedRoute.snapshot.params.collectionId,type:e.contentType}]},object:{id:e.activatedRoute.snapshot.params.collectionId,type:e.contentType,ver:"1.0"},edata:{type:e.route.snapshot.data.telemetry.type,pageid:e.route.snapshot.data.telemetry.pageid,uri:e.router.url,subtype:e.route.snapshot.data.telemetry.subtype,duration:e.pageLoadDuration}}})},e.prototype.ngOnDestroy=function(){this.subsrciption&&this.subsrciption.unsubscribe(),this.unsubscribe$.next(),this.unsubscribe$.complete()},e.prototype.initPlayer=function(e){var t=this;this.playerConfig=this.getPlayerConfig(e).pipe(Object(Ie.a)(function(e){return e.context.objectRollup=t.objectRollUp,t.playerTelemetryInteractObject.rollup=t.objectRollUp,t.setTelemetryContentImpression(e),e}),Object(Ce.a)(function(e){return e}))},e.prototype.setTelemetryContentImpression=function(e){this.telemetryContentImpression={context:{env:this.route.snapshot.data.telemetry.env},edata:{type:this.route.snapshot.data.telemetry.env,pageid:this.route.snapshot.data.telemetry.env,uri:this.router.url},object:{id:e.metadata.identifier,type:this.contentType||e.metadata.dataType||e.metadata.resourceType,ver:e.metadata.pkgVersion?e.metadata.pkgVersion.toString():"1.0",rollup:this.objectRollUp}}},e.prototype.playContent=function(e){this.showPlayer=!0,this.contentTitle=e.title,this.initPlayer(e.id)},e.prototype.navigateToContent=function(e,t){var n;n={queryParams:{},relativeTo:this.route},t?(this.queryParams.contentId=t,n.queryParams=this.queryParams):e&&(n.queryParams={contentId:e.id}),this.router.navigate([],n)},e.prototype.getPlayerConfig=function(e){return this.dialCode?this.playerService.getConfigByContent(e,{dialCode:this.dialCode}):this.playerService.getConfigByContent(e)},e.prototype.findContentById=function(e,t){return(new Te).parse(e.data).first(function(e){return e.model.identifier===t})},e.prototype.parseChildContent=function(e){var t=this,n=new Te;e.data&&(this.treeModel=n.parse(e.data),this.treeModel.walk(function(e){"application/vnd.ekstep.content-collection"!==e.model.mimeType&&t.contentDetails.push({id:e.model.identifier,title:e.model.name}),t.setContentNavigators()}))},e.prototype.setContentNavigators=function(){var e=Se.a(this.contentDetails,["id",this.contentId]);this.prevPlaylistItem=this.contentDetails[e-1],this.nextPlaylistItem=this.contentDetails[e+1]},e.prototype.OnPlayContent=function(e,t){if(!e||!e.id)throw new Error("unbale to play collection content for "+this.collectionId);if(this.navigateToContent(null,e.id),this.setContentNavigators(),this.playContent(e),!t){var n=this.findContentById(this.collectionTreeNodes,e.id);n.model.mimeType===this.configService.appConfig.PLAYER_CONFIG.MIME_TYPE.xUrl&&this.externalUrlPreviewService.generateRedirectUrl(n.model)}this.windowScrollService.smoothScroll("app-player-collection-renderer",10)},e.prototype.getContent=function(){var e=this;this.subsrciption=this.route.params.pipe(Object(we.a)(function(t){return e.collectionId=t.collectionId,e.telemetryCdata=[{id:e.collectionId,type:e.contentType}],e.setTelemetryData(),e.setTelemetryStartEndData(),e.getCollectionHierarchy(t.collectionId)})).subscribe(function(t){e.collectionTreeNodes=t,e.loader=!1,e.route.queryParams.subscribe(function(n){if(e.queryParams=Re({},n),e.contentId=n.contentId,e.dialCode=n.dialCode,e.contentId){var l=e.findContentById(t,e.contentId);e.playerContent=b.a(l,"model"),e.isOffline&&De.a(b.a(e.collectionData,"downloadStatus"),"DOWNLOADED")&&(e.playerContent.downloadStatus=e.resourceService.messages.stmsg.m0139),l&&(e.objectRollUp=e.contentUtilsService.getContentRollup(l),e.OnPlayContent({title:b.a(l,"model.name"),id:b.a(l,"model.identifier")},!0))}else e.closeContentPlayer()}),e.parseChildContent(e.collectionTreeNodes)},function(t){e.toasterService.error(e.resourceService.messages.fmsg.m0004),e.router.navigate(["/explore"])})},e.prototype.getCollectionHierarchy=function(e){var t=this;return this.playerService.getCollectionHierarchy(e,{params:this.configService.appConfig.CourseConsumption.contentApiQueryParams}).pipe(Object(Ie.a)(function(e){return t.collectionData=e.result.content,t.collectionTitle=b.a(e,"result.content.name")||"Untitled Collection",t.badgeData=b.a(e,"result.content.badgeAssertions"),{data:e.result.content}}))},e.prototype.closeCollectionPlayer=function(){if(this.dialCode)sessionStorage.setItem("singleContentRedirect","singleContentRedirect"),this.router.navigate(["/get/dial/",this.dialCode]);else if(this.isOffline){var e=this.navigationHelperService.getPreviousUrl();if(Boolean(v.a(e.url,"/play/collection/")))return this.router.navigate(["/"]);e.queryParams?this.router.navigate([e.url],{queryParams:e.queryParams}):this.router.navigate([e.url])}else this.navigationHelperService.navigateToPreviousUrl("/explore")},e.prototype.closeContentPlayer=function(){var e=this;try{window.frames.contentPlayer.contentDocument.body.onunload({})}catch(t){}finally{setTimeout(function(){e.showPlayer=!1,delete e.queryParams.contentId,e.router.navigate([],{relativeTo:e.route,queryParams:e.queryParams})},100)}},e.prototype.deviceDetector=function(){var e=this.deviceDetectorService.getDeviceInfo();"android"!==e.device&&"android"!==e.os||(this.showFooter=!0)},e.prototype.setTelemetryStartEndData=function(){var e=this,t=this.deviceDetectorService.getDeviceInfo();setTimeout(function(){e.telemetryCourseStart={context:{env:e.route.snapshot.data.telemetry.env,cdata:e.telemetryCdata},object:{id:e.collectionId,type:e.contentType,ver:"1.0"},edata:{type:e.route.snapshot.data.telemetry.type,pageid:e.route.snapshot.data.telemetry.pageid,mode:"play",uaspec:{agent:t.browser,ver:t.browser_version,system:t.os_version,platform:t.os,raw:t.userAgent}}}},50),this.telemetryCourseEndEvent={object:{id:this.collectionId,type:this.contentType,ver:"1.0"},context:{env:this.route.snapshot.data.telemetry.env,cdata:this.telemetryCdata},edata:{type:this.route.snapshot.data.telemetry.type,pageid:this.route.snapshot.data.telemetry.pageid,mode:"play"}}},e}(),Pe=n("HIzL"),Oe=n("92yW"),Ee=n("0QJ8"),je=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Me(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","mr-16"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"app-content-download",[],null,null,null,L,O)),l["\u0275did"](2,245760,null,0,I,[C.a,w.a,u.m,S.a,D.a,T.a,u.a,R.a,k.a,P.a],{contentData:[0,"contentData"],collectionId:[1,"collectionId"]},null)],function(e,t){var n=t.component;e(t,2,0,n.playerContent,n.collectionId)},null)}function Ne(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,32,"div",[["class","twelve wide column"],["id","app-player-collection-renderer"]],null,null,null,null,null)),l["\u0275did"](1,737280,null,0,K.a,[r.a],{appTelemetryImpression:[0,"appTelemetryImpression"]},null),(e()(),l["\u0275eld"](2,0,null,null,10,"div",[["class","sb-pageSection"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,9,"div",[["class","sb-pageSection-header"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,1,"h1",[["class","sb-pageSection-title m-0 mr-8"]],null,null,null,null,null)),(e()(),l["\u0275ted"](5,null,[" "," "])),(e()(),l["\u0275eld"](6,0,null,null,6,"div",[["class","ml-auto d-flex flex-ai-center"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Me)),l["\u0275did"](8,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](9,0,null,null,3,"button",[["appTelemetryInteract",""],["class","sb-btn sb-btn-xs sb-btn-error"],["type","button"]],null,[[null,"click"]],function(e,t,n){var a=!0,o=e.component;return"click"===t&&(a=!1!==l["\u0275nov"](e,10).onClick(n)&&a),"click"===t&&(a=!1!==o.closeContentPlayer()&&a),a},null,null)),l["\u0275did"](10,16384,null,0,i.a,[r.a,u.a,u.m],{telemetryInteractObject:[0,"telemetryInteractObject"],telemetryInteractEdata:[1,"telemetryInteractEdata"],telemetryInteractCdata:[2,"telemetryInteractCdata"]},null),(e()(),l["\u0275ted"](11,null,[" "," "])),(e()(),l["\u0275eld"](12,0,null,null,0,"i",[["class","ui remove icon"]],null,null,null,null,null)),(e()(),l["\u0275eld"](13,0,null,null,2,"app-player",[["class","content-player"]],null,null,null,q.b,q.a)),l["\u0275did"](14,4767744,null,0,H.a,[P.a,u.m,D.a,C.a,W.a],{playerConfig:[0,"playerConfig"],playerOption:[1,"playerOption"]},null),l["\u0275pid"](131072,m.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](16,0,null,null,16,"div",[["class","ui twelve column grid mt-24"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,0,"div",[["class","one wide tablet only one wide computer only column"]],null,null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,6,"div",[["class","six wide mobile only six wide tablet only three wide computer only column"]],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,null,null,5,"button",[["class","ui blue button left floated fluid tocbutton toc-left-nav-btn-content"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0,a=e.component;return"click"===t&&(l=!1!==a.navigateToContent(a.prevPlaylistItem)&&l),l},null,null)),(e()(),l["\u0275eld"](20,0,null,null,1,"span",[["class","header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](21,null,["",""])),(e()(),l["\u0275eld"](22,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["\u0275eld"](23,0,null,null,1,"span",[["class","font-white description text-ellipsis"]],null,null,null,null,null)),(e()(),l["\u0275ted"](24,null,["",""])),(e()(),l["\u0275eld"](25,0,null,null,0,"div",[["class","four wide tablet only four wide computer only column"]],null,null,null,null,null)),(e()(),l["\u0275eld"](26,0,null,null,6,"div",[["class","six wide mobile only six wide tablet only three wide computer only column pr-0"]],null,null,null,null,null)),(e()(),l["\u0275eld"](27,0,null,null,5,"button",[["class","ui blue button right floated fluid toc-right-nav-btn-content"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0,a=e.component;return"click"===t&&(l=!1!==a.navigateToContent(a.nextPlaylistItem)&&l),l},null,null)),(e()(),l["\u0275eld"](28,0,null,null,1,"span",[["class","header"]],null,null,null,null,null)),(e()(),l["\u0275ted"](29,null,["",""])),(e()(),l["\u0275eld"](30,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["\u0275eld"](31,0,null,null,1,"span",[["class","font-white description text-ellipsis"]],null,null,null,null,null)),(e()(),l["\u0275ted"](32,null,["",""]))],function(e,t){var n=t.component;e(t,1,0,n.telemetryContentImpression),e(t,8,0,n.isOffline),e(t,10,0,n.playerTelemetryInteractObject,n.closePlayerInteractEdata,n.telemetryCdata),e(t,14,0,l["\u0275unv"](t,14,0,l["\u0275nov"](t,15).transform(n.playerConfig)),n.playerOption)},function(e,t){var n=t.component;e(t,5,0,n.playerContent.name),e(t,11,0,n.resourceService.frmelmnts.btn.close),e(t,19,0,void 0===n.prevPlaylistItem),e(t,21,0,n.resourceService.frmelmnts.btn.previous),e(t,24,0,(null==n.prevPlaylistItem?null:n.prevPlaylistItem.title)||n.resourceService.messages.stmsg.m0120),e(t,27,0,void 0===n.nextPlaylistItem),e(t,29,0,n.resourceService.frmelmnts.btn.next),e(t,32,0,(null==n.nextPlaylistItem?null:n.nextPlaylistItem.title)||n.resourceService.messages.stmsg.m0120)})}function xe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","twelve wide column"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"app-loader",[],null,null,null,ce.b,ce.a)),l["\u0275did"](2,114688,null,0,se.a,[C.a],{data:[0,"data"]},null)],function(e,t){e(t,2,0,t.component.loaderMessage)},null)}function Ue(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","mr-16"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"app-content-download",[],null,null,null,L,O)),l["\u0275did"](2,245760,null,0,I,[C.a,w.a,u.m,S.a,D.a,T.a,u.a,R.a,k.a,P.a],{contentData:[0,"contentData"]},null)],function(e,t){e(t,2,0,t.component.collectionData)},null)}function Ae(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-collection-tree",[],null,[[null,"contentSelect"]],function(e,t,n){var l=!0;return"contentSelect"===t&&(l=!1!==e.component.OnPlayContent(n)&&l),l},de.b,de.a)),l["\u0275did"](1,770048,null,0,pe.a,[me.a,X.a,u.m,k.a,C.a],{nodes:[0,"nodes"],options:[1,"options"]},{contentSelect:"contentSelect"})],function(e,t){var n=t.component;e(t,1,0,n.collectionTreeNodes,n.collectionTreeOptions)},null)}function Le(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-comming-soon",[],null,null,null,fe.b,fe.a)),l["\u0275did"](1,245760,null,0,ye.a,[me.a,X.a,C.a],{contentOrgId:[0,"contentOrgId"]},null)],function(e,t){e(t,1,0,t.component.collectionTreeNodes.data.channel)},null)}function Fe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,17,"div",[["class","twelve wide column"]],null,null,null,null,null)),l["\u0275did"](1,737280,null,0,K.a,[r.a],{appTelemetryImpression:[0,"appTelemetryImpression"]},null),(e()(),l["\u0275eld"](2,0,null,null,10,"div",[["class","sb-pageSection"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,9,"div",[["class","sb-pageSection-header"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,1,"h1",[["class","sb-pageSection-title m-0 mr-5"]],null,null,null,null,null)),(e()(),l["\u0275ted"](5,null,[" "," "])),(e()(),l["\u0275eld"](6,0,null,null,6,"div",[["class","ml-auto d-flex flex-ai-center"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Ue)),l["\u0275did"](8,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](9,0,null,null,3,"button",[["appTelemetryInteract",""],["class","sb-btn sb-btn-xs sb-btn-error "],["type","button"]],null,[[null,"click"]],function(e,t,n){var a=!0,o=e.component;return"click"===t&&(a=!1!==l["\u0275nov"](e,10).onClick(n)&&a),"click"===t&&(a=!1!==o.closeCollectionPlayer()&&a),a},null,null)),l["\u0275did"](10,16384,null,0,i.a,[r.a,u.a,u.m],{telemetryInteractObject:[0,"telemetryInteractObject"],telemetryInteractEdata:[1,"telemetryInteractEdata"],telemetryInteractCdata:[2,"telemetryInteractCdata"]},null),(e()(),l["\u0275ted"](11,null,[" "," "])),(e()(),l["\u0275eld"](12,0,null,null,0,"i",[["class","ui remove icon"]],null,null,null,null,null)),(e()(),l["\u0275eld"](13,0,null,null,1,"app-content-badge",[],null,null,null,F.b,F.a)),l["\u0275did"](14,245760,null,0,V.a,[_.a],{data:[0,"data"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Ae)),l["\u0275did"](16,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l["\u0275and"](0,[["dataCommingSoon",2]],null,0,null,Le))],function(e,t){var n=t.component;e(t,1,0,n.telemetryImpression),e(t,8,0,n.isOffline),e(t,10,0,n.playerTelemetryInteractObject,n.closeCollectionPlayerInteractEdata,n.telemetryCdata),e(t,14,0,n.badgeData),e(t,16,0,n.collectionTreeNodes.data&&n.collectionTreeNodes.data.children&&n.collectionTreeNodes.data.children.length>0,l["\u0275nov"](t,17))},function(e,t){var n=t.component;e(t,5,0,n.collectionTitle),e(t,11,0,n.resourceService.frmelmnts.btn.close)})}function Ve(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","twelve wide column"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"app-collection-player-metadata",[],null,null,null,ve.b,ve.a)),l["\u0275did"](2,114688,null,0,he.a,[C.a,u.a],{metaData:[0,"metaData"]},null)],function(e,t){e(t,2,0,t.component.collectionData)},null)}function _e(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,11,"div",[["class","ui container mt-24"]],null,[["window","unload"]],function(e,t,n){var a=!0;return"window:unload"===t&&(a=!1!==l["\u0275nov"](e,2).unloadHandler(n)&&a),a},null,null)),l["\u0275did"](1,540672,null,0,be.a,[r.a],{appTelemetryStart:[0,"appTelemetryStart"]},null),l["\u0275did"](2,147456,null,0,ge.a,[r.a],{appTelemetryEnd:[0,"appTelemetryEnd"]},null),(e()(),l["\u0275eld"](3,0,null,null,8,"div",[["class","ui stackable grid"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Ne)),l["\u0275did"](5,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,xe)),l["\u0275did"](7,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Fe)),l["\u0275did"](9,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Ve)),l["\u0275did"](11,16384,null,0,m.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.telemetryCourseStart),e(t,2,0,n.telemetryCourseEndEvent),e(t,5,0,n.showPlayer&&n.playerContent),e(t,7,0,n.loader),e(t,9,0,!n.loader),e(t,11,0,!n.showPlayer)},null)}function qe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-public-collection-player",[],null,null,null,_e,je)),l["\u0275did"](1,4440064,null,0,ke,[Pe.a,u.a,T.a,Y.a,u.m,W.a,C.a,u.a,J.b,Oe.a,P.a,D.a,Ee.a,S.a,w.a],null,null)],function(e,t){e(t,1,0)},null)}var He=l["\u0275ccf"]("app-public-collection-player",ke,qe,{},{},[]),We=n("6NAO"),Be=n("VzMl"),ze=n("3ZJD"),Ke=n("LHnC"),$e=n("IfiR"),Qe=n("11FE"),Xe=n("4WkK"),Ye=n("qHIx"),Je=n("GiBk"),Ge=n("TJLn"),Ze=n("0adF"),et=n("FNvn"),tt=n("TqPY"),nt=n("ue7a"),lt=n("mo8B"),at=n("l2db"),ot=n("lP64"),it=n("O8x5"),rt=n("C1Tt"),ut=n("9DCZ"),ct=n("KtyV"),st={telemetry:{env:"public",pageid:"play-content",type:"view",subtype:"paginate"}},dt={telemetry:{env:"public",pageid:"play-collection",type:"view",subtype:"paginate"}},pt=function(){return function(){}}(),mt=n("A4O3"),ft=n("oA8k"),yt=n("MN7e"),vt=n("nKWb"),ht=n("g7fF"),bt=n("foaK"),gt=n("avHI"),It=n("PcdO"),Ct=n("M6UX"),wt=n("NjrD"),St=n("WU5A"),Dt=n("iM56"),Tt=n("or9A"),Rt=n("455k"),kt=n("puWb"),Pt=n("FqQv"),Ot=n("CknX"),Et=n("3yEp"),jt=n("xDRK"),Mt=n("0jf/"),Nt=n("v49j"),xt=n("seGu"),Ut=n("H0Ad"),At=n("K3rx"),Lt=n("ataZ"),Ft=n("Zul6"),Vt=n("dQKw"),_t=n("rgpw"),qt=n("V+4I"),Ht=n("8RM6"),Wt=n("7kHW"),Bt=n("kE5w");n.d(t,"PlayerModuleNgFactory",function(){return zt});var zt=l["\u0275cmf"](a,[],function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,ue,He,c.b,We.a,Be.a,ze.a,Ke.b]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,m.NgLocalization,m.NgLocaleLocalization,[l.LOCALE_ID,[2,m["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,$e["\u0275angular_packages_forms_forms_j"],$e["\u0275angular_packages_forms_forms_j"],[]),l["\u0275mpd"](4608,d.a,d.a,[l.ApplicationRef,l.ComponentFactoryResolver,l.Injector]),l["\u0275mpd"](4608,Qe.a,Qe.a,[]),l["\u0275mpd"](4608,Xe.a,Xe.a,[d.a]),l["\u0275mpd"](4608,Ye.a,Ye.a,[]),l["\u0275mpd"](4608,P.a,P.a,[]),l["\u0275mpd"](4608,Je.k,Je.k,[]),l["\u0275mpd"](6144,Je.i,null,[Je.k]),l["\u0275mpd"](4608,Je.g,Je.g,[Je.i]),l["\u0275mpd"](6144,Je.b,null,[Je.g]),l["\u0275mpd"](4608,Je.f,Je.j,[Je.b,l.Injector]),l["\u0275mpd"](4608,Je.c,Je.c,[Je.f]),l["\u0275mpd"](4608,Ge.CacheService,Ge.CacheService,[Ze.CacheStorageAbstract]),l["\u0275mpd"](4608,et.a,et.a,[]),l["\u0275mpd"](4608,C.a,C.a,[P.a,Je.c,Ge.CacheService,Ge.CacheService,et.a]),l["\u0275mpd"](4608,D.a,D.a,[]),l["\u0275mpd"](4608,tt.a,tt.a,[]),l["\u0275mpd"](4608,nt.a,nt.a,[u.m]),l["\u0275mpd"](4608,Y.a,Y.a,[]),l["\u0275mpd"](4608,w.a,w.a,[C.a]),l["\u0275mpd"](4608,W.a,W.a,[u.m,u.a,Ge.CacheService,w.a]),l["\u0275mpd"](4608,Ee.a,Ee.a,[P.a]),l["\u0275mpd"](4608,J.a,J.a,[]),l["\u0275mpd"](4608,J.b,J.b,[l.PLATFORM_ID]),l["\u0275mpd"](4608,Oe.a,Oe.a,[P.a]),l["\u0275mpd"](4608,R.a,R.a,[]),l["\u0275mpd"](4608,_.a,_.a,[P.a,lt.a]),l["\u0275mpd"](4608,Je.h,Je.n,[m.DOCUMENT,l.PLATFORM_ID,Je.l]),l["\u0275mpd"](4608,Je.o,Je.o,[Je.h,Je.m]),l["\u0275mpd"](5120,Je.a,function(e){return[e]},[Je.o]),l["\u0275mpd"](4608,$e.FormBuilder,$e.FormBuilder,[]),l["\u0275mpd"](4608,at.WindowRuler,at.WindowRuler,[]),l["\u0275mpd"](4608,ot.ScrollObservable,ot.ScrollObservable,[at.WindowRuler]),l["\u0275mpd"](4608,it.a,it.a,[P.a,lt.a,Je.c]),l["\u0275mpd"](4608,rt.c,rt.c,[]),l["\u0275mpd"](4608,rt.d,rt.d,[[2,rt.e]]),l["\u0275mpd"](4608,rt.b,rt.b,[Je.c,rt.d]),l["\u0275mpd"](4608,ut.a,ut.a,[u.m,ct.a,C.a,P.a,D.a,X.a]),l["\u0275mpd"](1073742336,m.CommonModule,m.CommonModule,[]),l["\u0275mpd"](1073742336,u.q,u.q,[[2,u.w],[2,u.m]]),l["\u0275mpd"](1073742336,pt,pt,[]),l["\u0275mpd"](1073742336,mt.a,mt.a,[]),l["\u0275mpd"](1073742336,$e["\u0275angular_packages_forms_forms_bc"],$e["\u0275angular_packages_forms_forms_bc"],[]),l["\u0275mpd"](1073742336,$e.FormsModule,$e.FormsModule,[]),l["\u0275mpd"](1073742336,ft.a,ft.a,[]),l["\u0275mpd"](1073742336,yt.a,yt.a,[]),l["\u0275mpd"](1073742336,vt.a,vt.a,[]),l["\u0275mpd"](1073742336,ht.a,ht.a,[]),l["\u0275mpd"](1073742336,bt.a,bt.a,[]),l["\u0275mpd"](1073742336,gt.a,gt.a,[]),l["\u0275mpd"](1073742336,It.a,It.a,[]),l["\u0275mpd"](1073742336,Ct.a,Ct.a,[]),l["\u0275mpd"](1073742336,wt.a,wt.a,[]),l["\u0275mpd"](1073742336,St.a,St.a,[]),l["\u0275mpd"](1073742336,Dt.a,Dt.a,[]),l["\u0275mpd"](1073742336,Tt.a,Tt.a,[]),l["\u0275mpd"](1073742336,Rt.SlickModule,Rt.SlickModule,[]),l["\u0275mpd"](1073742336,kt.a,kt.a,[]),l["\u0275mpd"](1073742336,Pt.a,Pt.a,[]),l["\u0275mpd"](1073742336,Ot.a,Ot.a,[]),l["\u0275mpd"](1073742336,Et.a,Et.a,[]),l["\u0275mpd"](1073742336,jt.a,jt.a,[]),l["\u0275mpd"](1073742336,Mt.a,Mt.a,[]),l["\u0275mpd"](1073742336,Nt.a,Nt.a,[]),l["\u0275mpd"](1073742336,xt.a,xt.a,[]),l["\u0275mpd"](1073742336,Ut.a,Ut.a,[]),l["\u0275mpd"](1073742336,At.a,At.a,[]),l["\u0275mpd"](1073742336,Je.e,Je.e,[]),l["\u0275mpd"](1073742336,Je.d,Je.d,[]),l["\u0275mpd"](1073742336,$e.ReactiveFormsModule,$e.ReactiveFormsModule,[]),l["\u0275mpd"](1073742336,Lt.a,Lt.a,[]),l["\u0275mpd"](1073742336,Ft.NgInviewModule,Ft.NgInviewModule,[]),l["\u0275mpd"](1073742336,Vt.a,Vt.a,[]),l["\u0275mpd"](1073742336,_t.f,_t.f,[]),l["\u0275mpd"](1073742336,rt.a,rt.a,[]),l["\u0275mpd"](1073742336,qt.a,qt.a,[]),l["\u0275mpd"](1073742336,Ht.a,Ht.a,[]),l["\u0275mpd"](1073742336,a,a,[]),l["\u0275mpd"](1024,u.k,function(){return[[{path:"content/:contentId",component:Q,data:st},{path:"collection/:collectionId",component:ke,data:dt}],[{path:"manage",component:Wt.a,data:Lt.b},{path:"user-upload",component:Bt.a}]]},[]),l["\u0275mpd"](256,Je.l,"XSRF-TOKEN",[]),l["\u0275mpd"](256,Je.m,"X-XSRF-TOKEN",[])])})}}]);